import{d as H,E as b,aE as R,B as U,V as q,m as G,aF as J,q as K,aG as Q,aH as j,ay as M,aI as O,k as f,w as o,aJ as W,o as d,g as n,ac as X,h as Y,f as u,e as g,a3 as k,Q as Z,t as B,a2 as w,ao as ee,aK as oe,D as ne,aL as te,_ as se}from"./index.16e62b85.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{l as C}from"./lodash.7a902427.js";import{S as ae}from"./sortable.esm.41bdaeb5.js";const ce={class:"action-icon"},le={class:"action-icon"},ie={id:"tableSetting"},ue={style:{"margin-right":"4px",cursor:"move"}},de={class:"title"},re=H({__name:"tool",props:{columns:null,size:null,enableCreate:{type:Boolean}},emits:["update:size","update:columns","add","refresh"],setup(m,{emit:r}){const y=m,l=b([]),_=b([]),D=t=>{r("update:size",t)};(t=>{l.value=C.exports.cloneDeep(t),l.value.forEach((e,c)=>{e.checked=!0}),_.value=C.exports.cloneDeep(l.value)})(y.columns);const x=(t,e,c,i=!1)=>{const s=i?C.exports.cloneDeep(t):t;return e>-1&&c>-1&&s.splice(e,1,s.splice(c,1,s[e]).pop()),s},V=t=>{t&&ee(()=>{const e=document.getElementById("tableSetting");new ae(e,{onEnd(c){const{oldIndex:i,newIndex:s}=c;x(l.value,i,s),x(_.value,i,s),r("update:columns",l.value)}})})},E=(t,e,c)=>{t?l.value.splice(c,0,e):l.value=_.value.filter(i=>i.checked),r("update:columns",l.value)};return(t,e)=>{const c=R,i=U,s=oe,z=q,v=G,I=J,S=ne,F=K,A=Q,L=j,T=M,N=O,P=W,$=te("permission");return d(),f(P,{style:{"margin-bottom":"16px","align-items":"center"}},{default:o(()=>[n(s,{span:12},{default:o(()=>[X((d(),f(i,{disabled:!m.enableCreate,type:"primary",onClick:e[0]||(e[0]=a=>r("add"))},{icon:o(()=>[n(c)]),default:o(()=>[Y(" \u65B0\u5EFA\u53D8\u91CF ")]),_:1},8,["disabled"])),[[$,"configure:business:add"]])]),_:1}),n(s,{span:12,class:"tool"},{default:o(()=>[n(v,{content:"\u5237\u65B0"},{default:o(()=>[u("div",{class:"action-icon",onClick:e[1]||(e[1]=a=>r("refresh"))},[n(z,{size:"18"})])]),_:1}),n(F,{onSelect:D},{content:o(()=>[(d(!0),g(w,null,k(t.$densityList,(a,p)=>(d(),f(S,{key:p,value:p,class:Z({active:p===m.size})},{default:o(()=>[u("span",null,B(a),1)]),_:2},1032,["value","class"]))),128))]),default:o(()=>[n(v,{content:"\u5B57\u4F53\u5927\u5C0F"},{default:o(()=>[u("div",ce,[n(I,{size:"18"})])]),_:1})]),_:1}),n(v,{content:"\u884C\u8BBE\u7F6E"},{default:o(()=>[n(N,{trigger:"click",position:"bl",onPopupVisibleChange:V},{content:o(()=>[u("div",ie,[(d(!0),g(w,null,k(_.value,(a,p)=>(d(),g("div",{key:a.dataIndex,class:"setting"},[u("div",ue,[n(L)]),u("div",null,[n(T,{modelValue:a.checked,"onUpdate:modelValue":h=>a.checked=h,onChange:h=>E(h,a,p)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("div",de,B(a.title==="#"?"index":a.title),1)]))),128))])]),default:o(()=>[u("div",le,[n(A,{size:"18"})])]),_:1})]),_:1})]),_:1})]),_:1})}}});const be=se(re,[["__scopeId","data-v-ccd27b7d"]]);export{be as default};
