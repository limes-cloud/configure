import{d as T,E as t,aF as x,e as B,g as n,w as g,o as C,M as c,a$ as p,ab as N}from"./index.527ddea7.js";/* empty css              *//* empty css               */import{a as b,b as I,u as U,d as z,q as R,r as $}from"./env.c0da9be6.js";import{u as M}from"./loading.8a6f434f.js";import q from"./tool.aeafc960.js";import{_ as L}from"./table.vue_vue_type_script_setup_true_lang.18175522.js";import{_ as Q}from"./form.vue_vue_type_script_setup_true_lang.f101109d.js";/* empty css               *//* empty css              *//* empty css               */import"./lodash.f63ffc90.js";import"./sortable.esm.41bdaeb5.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css                */const G={class:"container"},V={name:"ManagerEnv"},ce=T({...V,setup(j){const s=t(),u=t({}),{setLoading:i}=M(!0),F=t(!1),m=t(),d=t("medium"),l=t([{title:"\u73AF\u5883\u6807\u5FD7",dataIndex:"keyword",slotName:"keyword"},{title:"\u73AF\u5883\u540D\u79F0",dataIndex:"name",slotName:"name"},{title:"\u73AF\u5883\u72B6\u6001",dataIndex:"status",slotName:"status"},{title:"\u73AF\u5883\u63CF\u8FF0",dataIndex:"description",slotName:"description"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",slotName:"createdAt"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updated_at",slotName:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations"}]),o=async()=>{i(!0);try{const{data:e}=await b();m.value=e}finally{i(!1)}};o();const f=async e=>{await I(e),o(),c.success("\u521B\u5EFA\u6210\u529F")},v=async e=>{await U(e),o(),c.success("\u66F4\u65B0\u6210\u529F")},_=async e=>{await z(e),o(),c.success("\u5220\u9664\u6210\u529F")},A=async e=>{const{data:a}=await R(e);p.success({title:"\u83B7\u53D6Toekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${a.token}`})},k=async e=>{const{data:a}=await $(e);p.success({title:"\u91CD\u7F6EToekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${a.token}`})},w=()=>{u.value={},s.value.showAddDrawer()},y=e=>{u.value={...e},s.value.showUpdateDrawer()},E=e=>{u.value={},s.value.showAddDrawer()};return(e,a)=>{const D=N("Breadcrumb"),h=x;return C(),B("div",G,[n(D),n(h,{class:"general-card"},{default:g(()=>[n(q,{size:d.value,"onUpdate:size":a[0]||(a[0]=r=>d.value=r),columns:l.value,"onUpdate:columns":a[1]||(a[1]=r=>l.value=r),onRefresh:o,onAdd:w},null,8,["size","columns"]),n(L,{columns:l.value,loading:F.value,data:m.value,size:d.value,onAdd:E,onUpdate:y,onDelete:_,onQueryToken:A,onResetToken:k},null,8,["columns","loading","data","size"]),n(Q,{ref_key:"formRef",ref:s,data:u.value,onAdd:f,onUpdate:v},null,8,["data"])]),_:1})])}}});export{ce as default};
