import{u as j,a as J,M as se,d as T,b as M,c as g,i as ce,o as v,e as L,f as m,g as a,w as i,h as ue,t as Q,j as d,k as w,l as $,n as U,T as le,I as re,S as ie,B as de,m as _e,A as pe,p as fe,D as X,q as Y,r as O,s as K,v as he,x as ve,y as ge,z as me,_ as F,C as Z,E as R,F as ee,G as ye,H as be,J as W,K as H,L as xe,N as ke,O as V,P as we,Q as te,R as Se,U as Ce,V as Ie,W as De,X as Me,Y as $e,Z as Le,$ as Te,a0 as Ee,a1 as Be,a2 as Re,a3 as Fe,a4 as ze,a5 as ne,a6 as Pe,a7 as Ae,a8 as q,a9 as Ne,aa as Ue,ab as je,ac as Oe,ad as Ke,ae as Ve,af as We,ag as He,ah as qe,ai as Ge}from"./index.e1248d42.js";import{u as Je,a as Qe,b as Xe,c as Ye,F as Ze}from"./index.3d3a555a.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               */import{l as et}from"./lodash.f3b11538.js";function tt(){const t=j(),n=J();return{logout:async c=>{await n.logout();const u=t.currentRoute.value;se.success("\u767B\u51FA\u6210\u529F"),t.push({name:c&&typeof c=="string"?c:"login",query:{...t.currentRoute.value.query,redirect:u.name}})}}}const nt=t=>(O("data-v-753bcdd8"),t=t(),K(),t),ot={class:"navbar"},at=["src"],st={class:"right-side"},ct=["src"],ut=["src"],lt=nt(()=>m("span",null," \u9000\u51FA\u767B\u5F55 ",-1)),rt=T({__name:"index",setup(t){const n=M(),o=J(),{logout:c}=tt(),{isFullscreen:u,toggle:y}=Je(),_=g(()=>o.avatar),f=g(()=>n.theme),h=Qe({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(p){n.toggleTheme(p)}}),S=Xe(h),C=()=>{S()},I=()=>{c()},s=ce("toggleDrawerMenu");return(p,x)=>{const e=le,r=re,b=ie,k=he,l=ve,B=de,D=_e,z=ge,P=me,A=pe,N=fe,oe=X,ae=Y;return v(),L("div",ot,[m("div",{class:"left-side",style:U({width:d(n).menuWidth+"px"})},[a(b,null,{default:i(()=>[m("img",{alt:"logo",src:p.$logo,style:{width:"50px",height:"50px"}},null,8,at),a(e,{style:{margin:0,fontSize:"18px"},heading:5},{default:i(()=>[ue(Q(d(n).currentAppinfo.title),1)]),_:1}),d(n).device==="mobile"?(v(),w(r,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:d(s)},null,8,["onClick"])):$("",!0)]),_:1})],4),m("ul",st,[m("li",null,[a(D,{content:d(f)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u4EAE\u8272\u6A21\u5F0F"},{default:i(()=>[a(B,{class:"nav-btn",type:"outline",shape:"circle",onClick:C},{icon:i(()=>[d(f)==="dark"?(v(),w(k,{key:0})):(v(),w(l,{key:1}))]),_:1})]),_:1},8,["content"])]),m("li",null,[a(D,{content:d(u)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:i(()=>[a(B,{class:"nav-btn",type:"outline",shape:"circle",onClick:d(y)},{icon:i(()=>[d(u)?(v(),w(z,{key:0})):(v(),w(P,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),m("li",null,[a(ae,{trigger:"click"},{content:i(()=>[a(oe,null,{default:i(()=>[a(b,{onClick:I},{default:i(()=>[a(N),lt]),_:1})]),_:1})]),default:i(()=>[a(A,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:i(()=>[d(_)?(v(),L("img",{key:0,alt:"avatar",src:d(_)},null,8,ct)):(v(),L("img",{key:1,alt:"avatar",src:p.$logo},null,8,ut))]),_:1})]),_:1})])])])}}});const it=F(rt,[["__scopeId","data-v-753bcdd8"]]);const dt=(t,n)=>{const{target:o="_blank",...c}=n||{};window.open(t,o,Object.entries(c).reduce((u,y)=>{const[_,f]=y;return[...u,`${_}=${f}`]},[]).join(","))},_t=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");function pt(){const t=M(),n=g(()=>t.appMenu);return{menuTree:g(()=>{const c=et.exports.cloneDeep(n.value);c.sort((y,_)=>(y.meta.weight||0)-(_.meta.weight||0));function u(y,_){return y?y.map(h=>{var C,I;if(((C=h.meta)==null?void 0:C.hideChildrenInMenu)||!h.children)return h.children=[],h;h.children=h.children.filter(s=>{var p;return((p=s.meta)==null?void 0:p.hideInMenu)!==!0});const S=u(h.children,_+1);return S.length||_>1?(h.children=S,h):((I=h.meta)==null?void 0:I.hideInMenu)===!1?h:null}).filter(Boolean):null}return u(c,0)})}}function ft(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!be(t)}const ht=T({emit:["collapse"],setup(){const t=M(),n=j(),o=Z(),{menuTree:c}=pt(),u=g({get(){return t.device==="desktop"?t.menuCollapse:!1},set(s){t.updateSettings({menuCollapse:s})}}),y=g(()=>t.topMenu),_=R([]),f=R([]),h=s=>{if(_t.test(s.path)){dt(s.path),f.value=[s.name];return}const{hideInMenu:p,activeMenu:x}=s.meta;if(o.name===s.name&&!p&&!x){f.value=[s.name];return}n.push({name:s.name})},S=s=>{const p=[];let x=!1;const e=(r,b)=>{var k;if(r.name===s){x=!0,p.push(...b);return}(k=r.children)!=null&&k.length&&r.children.forEach(l=>{e(l,[...b,l.name])})};return c.value.forEach(r=>{x||e(r,[r.name])}),p};ee(s=>{const{activeMenu:p,hideInMenu:x}=s.meta;if(!x||p){const e=S(p||s.name),r=new Set([...e,..._.value]);_.value=[...r],f.value=[p||e[e.length-1]]}},!0);const C=s=>{t.device==="desktop"&&t.updateSettings({menuCollapse:s})},I=()=>{function s(p,x=[]){return p&&p.forEach(e=>{var k;const r=(k=e==null?void 0:e.meta)!=null&&k.icon?()=>{var l;return W(H(`<${(l=e==null?void 0:e.meta)==null?void 0:l.icon}/>`))}:null,b=(e==null?void 0:e.children)&&(e==null?void 0:e.children.length)!==0?a(xe,{key:e==null?void 0:e.name},{default:()=>[s(e==null?void 0:e.children)],icon:r,title:()=>{var l;return W(H(((l=e==null?void 0:e.meta)==null?void 0:l.title)||""))}}):a(ke,{key:e==null?void 0:e.name,onClick:()=>h(e)},{default:()=>{var l;return[((l=e==null?void 0:e.meta)==null?void 0:l.title)||""]},icon:r});x.push(b)}),x}return s(c.value)};return()=>{let s;return a(ye,{mode:y.value?"horizontal":"vertical",collapsed:u.value,"onUpdate:collapsed":p=>u.value=p,"open-keys":_.value,"onUpdate:open-keys":p=>_.value=p,"show-collapse-button":t.device!=="mobile","auto-open":!1,"selected-keys":f.value,"auto-open-selected":!0,"level-indent":34,style:"height: 100%;width:100%;",onCollapse:C},ft(s=I())?s:{default:()=>[s]})}}});const G=F(ht,[["__scopeId","data-v-f4833545"]]);const E=t=>(O("data-v-46e17d6a"),t=t(),K(),t),vt={class:"tag-link"},gt=E(()=>m("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),mt=E(()=>m("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),yt=E(()=>m("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),bt=E(()=>m("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),xt=E(()=>m("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),kt=E(()=>m("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),wt=T({__name:"tab-item",props:{itemData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(t){const n=t,o=j(),c=Z(),u=V(),y=M(),_=e=>{o.push({...e})},f=g(()=>u.getTabList),h=g(()=>n.itemData.fullPath!==c.fullPath),S=g(()=>n.index===0),C=g(()=>[0,1].includes(n.index)),I=g(()=>n.index===f.value.length-1),s=(e,r)=>{if(u.deleteTag(r,e),n.itemData.fullPath===c.fullPath){const b=f.value[r-1];o.push({name:b.name})}},p=()=>f.value.findIndex(e=>e.fullPath===c.fullPath),x=async e=>{const{itemData:r,index:b}=n,k=[...f.value];if(e==="current")s(r,b);else if(e==="left"){const l=p();k.splice(1,n.index-1),u.freshTabList(k),l<b&&o.push({name:r.name})}else if(e==="right"){const l=p();k.splice(n.index+1),u.freshTabList(k),l>b&&o.push({name:r.name})}else if(e==="others"){const l=f.value.filter((B,D)=>D===0||D===n.index);u.freshTabList(l),o.push({name:r.name})}else e==="reload"?(u.deleteCache(r),await o.push({name:Se,params:{path:c.fullPath}}),u.addCache(r.name)):(u.resetTab(),o.push({path:y.appHomePath}))};return(e,r)=>{const b=Ce,k=Ie,l=X,B=De,D=Me,z=$e,P=Le,A=Y;return v(),w(A,{trigger:"contextMenu","popup-max-height":!1,onSelect:x},{content:i(()=>[a(l,{disabled:d(h),value:"reload"},{default:i(()=>[a(k),gt]),_:1},8,["disabled","value"]),a(l,{class:"sperate-line",disabled:d(S),value:"current"},{default:i(()=>[a(b),mt]),_:1},8,["disabled","value"]),a(l,{disabled:d(C),value:"left"},{default:i(()=>[a(B),yt]),_:1},8,["disabled","value"]),a(l,{class:"sperate-line",disabled:d(I),value:"right"},{default:i(()=>[a(D),bt]),_:1},8,["disabled","value"]),a(l,{value:"others"},{default:i(()=>[a(z),xt]),_:1},8,["value"]),a(l,{value:"all"},{default:i(()=>[a(P),kt]),_:1},8,["value"])]),default:i(()=>[m("span",{class:te(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":t.itemData.fullPath===e.$route.fullPath}]),onClick:r[1]||(r[1]=N=>_(t.itemData))},[m("span",vt,Q(t.itemData.title),1),m("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:r[0]||(r[0]=we(N=>s(t.itemData,t.index),["stop"]))},[a(b)])],2)]),_:1})}}});const St=F(wt,[["__scopeId","data-v-46e17d6a"]]),Ct=t=>(O("data-v-509db106"),t=t(),K(),t),It={class:"tab-bar-container"},Dt={class:"tab-bar-box"},Mt={class:"tab-bar-scroll"},$t={class:"tags-wrap"},Lt=Ct(()=>m("div",{class:"tag-bar-operation"},null,-1)),Tt=T({__name:"index",setup(t){const n=M(),o=V(),c=R(),u=g(()=>o.getTabList),y=g(()=>n.navbar?60:0);return Te(()=>n.navbar,()=>{c.value.updatePosition()}),ee(_=>{!_.meta.noAffix&&!u.value.some(f=>f.fullPath===_.fullPath)&&o.updateTabList(_)},!0),Ee(()=>{Be()}),(_,f)=>{const h=ze;return v(),L("div",It,[a(h,{ref_key:"affixRef",ref:c,"offset-top":d(y)},{default:i(()=>[m("div",Dt,[m("div",Mt,[m("div",$t,[(v(!0),L(Re,null,Fe(d(u),(S,C)=>(v(),w(St,{key:S.fullPath,index:C,"item-data":S},null,8,["index","item-data"]))),128))])]),Lt])]),_:1},8,["offset-top"])])}}});const Et=F(Tt,[["__scopeId","data-v-509db106"]]);function Bt(t,n,o,c=!1){t.addEventListener&&typeof t.addEventListener=="function"&&t.addEventListener(n,o,c)}function Rt(t,n,o,c=!1){t.removeEventListener&&typeof t.removeEventListener=="function"&&t.removeEventListener(n,o,c)}const Ft=992;function zt(){return document.body.getBoundingClientRect().width-1<Ft}function Pt(t){const n=M();function o(){if(!document.hidden){const u=zt();n.toggleDevice(u?"mobile":"desktop"),n.toggleMenu(u)}}const c=Ye(o,100);ne(()=>{t&&c()}),Pe(()=>{Bt(window,"resize",c)}),Ae(()=>{Rt(window,"resize",c)})}const At=T({__name:"page-layout",setup(t){const n=V(),o=g(()=>n.getCacheList);return(c,u)=>{const y=je("router-view");return v(),w(y,null,{default:i(({Component:_,route:f})=>[a(Ue,{name:"fade",mode:"out-in",appear:""},{default:i(()=>[f.meta.ignoreCache?(v(),w(q(_),{key:f.fullPath})):(v(),w(Ne,{key:1,include:d(o)},[(v(),w(q(_),{key:f.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})}}}),Nt={key:0,class:"layout-navbar"},Ut={class:"menu-wrapper"},jt=T({__name:"default-layout",setup(t){const n=R(!1),o=M();Pt(!0);const c="60px",u=g(()=>o.navbar),y=g(()=>o.menu&&!o.topMenu),_=g(()=>o.hideMenu),f=g(()=>o.footer),h=g(()=>o.menuCollapse?48:o.menuWidth),S=g(()=>o.menuCollapse),C=g(()=>{const x=y.value&&!_.value?{paddingLeft:`${h.value}px`}:{},e=u.value?{paddingTop:c}:{};return{...x,...e}}),I=x=>{!n.value||o.updateSettings({menuCollapse:x})},s=R(!1),p=()=>{s.value=!1};return Ge("toggleDrawerMenu",()=>{s.value=!s.value}),ne(()=>{n.value=!0}),(x,e)=>{const r=Ve,b=We,k=He,l=qe;return v(),w(l,{class:te(["layout",{mobile:d(o).hideMenu}])},{default:i(()=>[d(u)?(v(),L("div",Nt,[a(it)])):$("",!0),a(l,null,{default:i(()=>[a(l,null,{default:i(()=>[d(y)?Oe((v(),w(r,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:d(S),collapsible:!0,width:d(h),style:U({paddingTop:d(u)?"60px":""}),"hide-trigger":!0,onCollapse:I},{default:i(()=>[m("div",Ut,[a(G)])]),_:1},8,["collapsed","width","style"])),[[Ke,!d(_)]]):$("",!0),d(_)?(v(),w(b,{key:1,visible:s.value,placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:p},{default:i(()=>[a(G)]),_:1},8,["visible"])):$("",!0),a(l,{class:"layout-content",style:U(d(C))},{default:i(()=>[d(o).tabBar?(v(),w(Et,{key:0})):$("",!0),a(k,null,{default:i(()=>[a(At)]),_:1}),d(f)?(v(),w(Ze,{key:1})):$("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["class"])}}});const Jt=F(jt,[["__scopeId","data-v-9cbc4083"]]);export{Jt as default};
