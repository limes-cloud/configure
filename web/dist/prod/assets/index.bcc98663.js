import{u as k,a as D,k as E,m as P,_ as q}from"./index.b201a747.js";/* empty css               *//* empty css               *//* empty css               */import{d as R,e as y,b8 as U,r as z,bm as L,bn as M,aX as N,aW as j,bo as J,B as Q,E as o,aM as g,u as d,aJ as e,aI as s,aR as T,A as W,aL as x,bp as X,bq as $}from"./arco.79b3a20c.js";import{F as G}from"./index.65386d78.js";import{u as H,j as K}from"./vue.73de78ef.js";import{u as O}from"./loading.4485fcab.js";import"./chart.c056e818.js";const Y={class:"container"},Z={class:"logo"},ee=["src"],oe={class:"content"},se={class:"content-inner"},ae={class:"login-form-wrapper"},te={class:"login-form-title"},re={class:"login-form-sub-title"},ne={class:"login-form-error-msg"},ue={class:"login-form-password-actions"},le={class:"footer"},ce=R({__name:"index",setup(ie){const f=y(null),c=H(),v=y(""),{loading:b,setLoading:h}=O(),B=k(),w=D(),a=K("login-config",{rememberPassword:!0,username:"",password:""});U(()=>{clearInterval(f.value),f.value=null});const n=z({username:a.value.username,password:a.value.password,captcha:"",captcha_id:""}),F=async({errors:u,values:t})=>{if(!b.value&&!u){h(!0);try{await B.login(t);const{redirect:r,...i}=c.currentRoute.value.query;r&&c.hasRoute(r)?c.push({name:r,query:{...i}}):c.push({path:"/",query:{...i}}),T.success("\u767B\u9646\u6210\u529F");const{rememberPassword:l}=a.value,{username:_,password:m}=t;a.value.username=l?_:"",a.value.password=l?m:""}catch(r){v.value=r.message}finally{h(!1)}}},A=u=>{a.value.rememberPassword=u};return(u,t)=>{const r=E,i=L,l=X,_=P,m=$,C=M,I=N,S=j,V=J;return W(),Q("div",Y,[o("div",Z,[o("img",{alt:"logo",style:{width:"100px"},src:u.$logo},null,8,ee)]),o("div",oe,[o("div",se,[o("div",ae,[o("div",te,g(d(w).title),1),o("div",re,g(d(w).desc),1),o("div",ne,g(v.value),1),e(V,{model:n,class:"login-form",layout:"vertical",onSubmit:F},{default:s(()=>[e(l,{field:"username",rules:[{required:!0,message:"\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[e(i,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=p=>n.username=p),size:"large",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237"},{prefix:s(()=>[e(r)]),_:1},8,["modelValue"])]),_:1}),e(l,{field:"password",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[e(m,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=p=>n.password=p),size:"large",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","allow-clear":"",autocomplete:""},{prefix:s(()=>[e(_)]),_:1},8,["modelValue"])]),_:1}),e(S,{size:16,direction:"vertical"},{default:s(()=>[o("div",ue,[e(C,{checked:"rememberPassword","model-value":d(a).rememberPassword,onChange:A},{default:s(()=>[x(" \u8BB0\u4F4F\u5BC6\u7801 ")]),_:1},8,["model-value","onChange"])]),e(I,{size:"large",type:"primary","html-type":"submit",long:"",loading:d(b)},{default:s(()=>[x(" \u786E\u8BA4\u767B\u9646 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])]),o("div",le,[e(G)])])])}}});const we=q(ce,[["__scopeId","data-v-888bcb1a"]]);export{we as default};
