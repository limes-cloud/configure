import{u as Q,a as M,I as se,b as ce,c as ue,d as le,_ as F,l as X,e as j,R as re,f as ie,g as de,h as _e,i as pe,j as fe,r as he}from"./index.7106be94.js";import{F as ve}from"./index.d7311fef.js";/* empty css              */import{aP as me,d as T,c as m,i as ge,A as v,B as L,E as g,aJ as a,aI as i,aL as be,aM as Y,u as d,aC as w,aD as $,D as U,aT as ye,O as xe,aU as ke,aV as we,aW as Ce,aX as Se,aY as Z,aZ as G,a_ as O,a$ as K,am as Ie,e as R,b0 as De,b1 as Me,h as W,b2 as H,b3 as $e,b4 as Le,b5 as Te,C as ee,a0 as Ee,w as Be,b6 as Re,aN as Fe,aK as Pe,b7 as ze,o as te,b8 as Ae,b as Ne,b9 as q,ba as Ue,bb as je,aQ as Oe,bc as Ke,bd as Ve,be as We,bf as He,bg as qe,bh as Je,p as Qe}from"./arco.df66b857.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{u as V,e as Xe,f as Ye,g as Ze,h as ne,i as Ge}from"./vue.265d7bfb.js";import{l as et}from"./lodash.aff41c0f.js";import"./chart.a73bec37.js";function tt(){const t=V(),n=Q();return{logout:async c=>{await n.logout();const u=t.currentRoute.value;me.success("\u767B\u51FA\u6210\u529F"),t.push({name:c&&typeof c=="string"?c:"login",query:{...t.currentRoute.value.query,redirect:u.name}})}}}const nt=t=>(O("data-v-753bcdd8"),t=t(),K(),t),ot={class:"navbar"},at=["src"],st={class:"right-side"},ct=["src"],ut=["src"],lt=nt(()=>g("span",null," \u9000\u51FA\u767B\u5F55 ",-1)),rt=T({__name:"index",setup(t){const n=M(),o=Q(),{logout:c}=tt(),{isFullscreen:u,toggle:b}=Xe(),_=m(()=>o.avatar),f=m(()=>n.theme),h=Ye({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(p){n.toggleTheme(p)}}),C=Ze(h),S=()=>{C()},I=()=>{c()},s=ge("toggleDrawerMenu");return(p,x)=>{const e=ye,r=xe,y=ke,k=ce,l=ue,B=we,D=Ce,P=le,z=Ie,A=Se,N=se,oe=Z,ae=G;return v(),L("div",ot,[g("div",{class:"left-side",style:U({width:d(n).menuWidth+"px"})},[a(y,null,{default:i(()=>[g("img",{alt:"logo",src:p.$logo,style:{width:"50px",height:"50px"}},null,8,at),a(e,{style:{margin:0,fontSize:"18px"},heading:5},{default:i(()=>[be(Y(d(n).currentAppinfo.title),1)]),_:1}),d(n).device==="mobile"?(v(),w(r,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:d(s)},null,8,["onClick"])):$("",!0)]),_:1})],4),g("ul",st,[g("li",null,[a(D,{content:d(f)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u4EAE\u8272\u6A21\u5F0F"},{default:i(()=>[a(B,{class:"nav-btn",type:"outline",shape:"circle",onClick:S},{icon:i(()=>[d(f)==="dark"?(v(),w(k,{key:0})):(v(),w(l,{key:1}))]),_:1})]),_:1},8,["content"])]),g("li",null,[a(D,{content:d(u)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:i(()=>[a(B,{class:"nav-btn",type:"outline",shape:"circle",onClick:d(b)},{icon:i(()=>[d(u)?(v(),w(P,{key:0})):(v(),w(z,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),g("li",null,[a(ae,{trigger:"click"},{content:i(()=>[a(oe,null,{default:i(()=>[a(y,{onClick:I},{default:i(()=>[a(N),lt]),_:1})]),_:1})]),default:i(()=>[a(A,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:i(()=>[d(_)?(v(),L("img",{key:0,alt:"avatar",src:d(_)},null,8,ct)):(v(),L("img",{key:1,alt:"avatar",src:p.$logo},null,8,ut))]),_:1})]),_:1})])])])}}});const it=F(rt,[["__scopeId","data-v-753bcdd8"]]);const dt=(t,n)=>{const{target:o="_blank",...c}=n||{};window.open(t,o,Object.entries(c).reduce((u,b)=>{const[_,f]=b;return[...u,`${_}=${f}`]},[]).join(","))},_t=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");function pt(){const t=M(),n=m(()=>t.appMenu);return{menuTree:m(()=>{const c=et.exports.cloneDeep(n.value);c.sort((b,_)=>(b.meta.weight||0)-(_.meta.weight||0));function u(b,_){return b?b.map(h=>{var S,I;if(((S=h.meta)==null?void 0:S.hideChildrenInMenu)||!h.children)return h.children=[],h;h.children=h.children.filter(s=>{var p;return((p=s.meta)==null?void 0:p.hideInMenu)!==!0});const C=u(h.children,_+1);return C.length||_>1?(h.children=C,h):((I=h.meta)==null?void 0:I.hideInMenu)===!1?h:null}).filter(Boolean):null}return u(c,0)})}}function ft(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Me(t)}const ht=T({emit:["collapse"],setup(){const t=M(),n=V(),o=ne(),{menuTree:c}=pt(),u=m({get(){return t.device==="desktop"?t.menuCollapse:!1},set(s){t.updateSettings({menuCollapse:s})}}),b=m(()=>t.topMenu),_=R([]),f=R([]),h=s=>{if(_t.test(s.path)){dt(s.path),f.value=[s.name];return}const{hideInMenu:p,activeMenu:x}=s.meta;if(o.name===s.name&&!p&&!x){f.value=[s.name];return}n.push({name:s.name})},C=s=>{const p=[];let x=!1;const e=(r,y)=>{var k;if(r.name===s){x=!0,p.push(...y);return}(k=r.children)!=null&&k.length&&r.children.forEach(l=>{e(l,[...y,l.name])})};return c.value.forEach(r=>{x||e(r,[r.name])}),p};X(s=>{const{activeMenu:p,hideInMenu:x}=s.meta;if(!x||p){const e=C(p||s.name),r=new Set([...e,..._.value]);_.value=[...r],f.value=[p||e[e.length-1]]}},!0);const S=s=>{t.device==="desktop"&&t.updateSettings({menuCollapse:s})},I=()=>{function s(p,x=[]){return p&&p.forEach(e=>{var k;const r=(k=e==null?void 0:e.meta)!=null&&k.icon?()=>{var l;return W(H(`<${(l=e==null?void 0:e.meta)==null?void 0:l.icon}/>`))}:null,y=(e==null?void 0:e.children)&&(e==null?void 0:e.children.length)!==0?a($e,{key:e==null?void 0:e.name},{default:()=>[s(e==null?void 0:e.children)],icon:r,title:()=>{var l;return W(H(((l=e==null?void 0:e.meta)==null?void 0:l.title)||""))}}):a(Le,{key:e==null?void 0:e.name,onClick:()=>h(e)},{default:()=>{var l;return[((l=e==null?void 0:e.meta)==null?void 0:l.title)||""]},icon:r});x.push(y)}),x}return s(c.value)};return()=>{let s;return a(De,{mode:b.value?"horizontal":"vertical",collapsed:u.value,"onUpdate:collapsed":p=>u.value=p,"open-keys":_.value,"onUpdate:open-keys":p=>_.value=p,"show-collapse-button":t.device!=="mobile","auto-open":!1,"selected-keys":f.value,"auto-open-selected":!0,"level-indent":34,style:"height: 100%;width:100%;",onCollapse:S},ft(s=I())?s:{default:()=>[s]})}}});const J=F(ht,[["__scopeId","data-v-f4833545"]]);const E=t=>(O("data-v-46e17d6a"),t=t(),K(),t),vt={class:"tag-link"},mt=E(()=>g("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),gt=E(()=>g("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),bt=E(()=>g("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),yt=E(()=>g("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),xt=E(()=>g("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),kt=E(()=>g("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),wt=T({__name:"tab-item",props:{itemData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(t){const n=t,o=V(),c=ne(),u=j(),b=M(),_=e=>{o.push({...e})},f=m(()=>u.getTabList),h=m(()=>n.itemData.fullPath!==c.fullPath),C=m(()=>n.index===0),S=m(()=>[0,1].includes(n.index)),I=m(()=>n.index===f.value.length-1),s=(e,r)=>{if(u.deleteTag(r,e),n.itemData.fullPath===c.fullPath){const y=f.value[r-1];o.push({name:y.name})}},p=()=>f.value.findIndex(e=>e.fullPath===c.fullPath),x=async e=>{const{itemData:r,index:y}=n,k=[...f.value];if(e==="current")s(r,y);else if(e==="left"){const l=p();k.splice(1,n.index-1),u.freshTabList(k),l<y&&o.push({name:r.name})}else if(e==="right"){const l=p();k.splice(n.index+1),u.freshTabList(k),l>y&&o.push({name:r.name})}else if(e==="others"){const l=f.value.filter((B,D)=>D===0||D===n.index);u.freshTabList(l),o.push({name:r.name})}else e==="reload"?(u.deleteCache(r),await o.push({name:re,params:{path:c.fullPath}}),u.addCache(r.name)):(u.resetTab(),o.push({path:b.appHomePath}))};return(e,r)=>{const y=Ee,k=ie,l=Z,B=de,D=_e,P=pe,z=fe,A=G;return v(),w(A,{trigger:"contextMenu","popup-max-height":!1,onSelect:x},{content:i(()=>[a(l,{disabled:d(h),value:"reload"},{default:i(()=>[a(k),mt]),_:1},8,["disabled","value"]),a(l,{class:"sperate-line",disabled:d(C),value:"current"},{default:i(()=>[a(y),gt]),_:1},8,["disabled","value"]),a(l,{disabled:d(S),value:"left"},{default:i(()=>[a(B),bt]),_:1},8,["disabled","value"]),a(l,{class:"sperate-line",disabled:d(I),value:"right"},{default:i(()=>[a(D),yt]),_:1},8,["disabled","value"]),a(l,{value:"others"},{default:i(()=>[a(P),xt]),_:1},8,["value"]),a(l,{value:"all"},{default:i(()=>[a(z),kt]),_:1},8,["value"])]),default:i(()=>[g("span",{class:ee(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":t.itemData.fullPath===e.$route.fullPath}]),onClick:r[1]||(r[1]=N=>_(t.itemData))},[g("span",vt,Y(t.itemData.title),1),g("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:r[0]||(r[0]=Te(N=>s(t.itemData,t.index),["stop"]))},[a(y)])],2)]),_:1})}}});const Ct=F(wt,[["__scopeId","data-v-46e17d6a"]]),St=t=>(O("data-v-509db106"),t=t(),K(),t),It={class:"tab-bar-container"},Dt={class:"tab-bar-box"},Mt={class:"tab-bar-scroll"},$t={class:"tags-wrap"},Lt=St(()=>g("div",{class:"tag-bar-operation"},null,-1)),Tt=T({__name:"index",setup(t){const n=M(),o=j(),c=R(),u=m(()=>o.getTabList),b=m(()=>n.navbar?60:0);return Be(()=>n.navbar,()=>{c.value.updatePosition()}),X(_=>{!_.meta.noAffix&&!u.value.some(f=>f.fullPath===_.fullPath)&&o.updateTabList(_)},!0),Re(()=>{he()}),(_,f)=>{const h=ze;return v(),L("div",It,[a(h,{ref_key:"affixRef",ref:c,"offset-top":d(b)},{default:i(()=>[g("div",Dt,[g("div",Mt,[g("div",$t,[(v(!0),L(Fe,null,Pe(d(u),(C,S)=>(v(),w(Ct,{key:C.fullPath,index:S,"item-data":C},null,8,["index","item-data"]))),128))])]),Lt])]),_:1},8,["offset-top"])])}}});const Et=F(Tt,[["__scopeId","data-v-509db106"]]);function Bt(t,n,o,c=!1){t.addEventListener&&typeof t.addEventListener=="function"&&t.addEventListener(n,o,c)}function Rt(t,n,o,c=!1){t.removeEventListener&&typeof t.removeEventListener=="function"&&t.removeEventListener(n,o,c)}const Ft=992;function Pt(){return document.body.getBoundingClientRect().width-1<Ft}function zt(t){const n=M();function o(){if(!document.hidden){const u=Pt();n.toggleDevice(u?"mobile":"desktop"),n.toggleMenu(u)}}const c=Ge(o,100);te(()=>{t&&c()}),Ae(()=>{Bt(window,"resize",c)}),Ne(()=>{Rt(window,"resize",c)})}const At=T({__name:"page-layout",setup(t){const n=j(),o=m(()=>n.getCacheList);return(c,u)=>{const b=Oe("router-view");return v(),w(b,null,{default:i(({Component:_,route:f})=>[a(je,{name:"fade",mode:"out-in",appear:""},{default:i(()=>[f.meta.ignoreCache?(v(),w(q(_),{key:f.fullPath})):(v(),w(Ue,{key:1,include:d(o)},[(v(),w(q(_),{key:f.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})}}}),Nt={key:0,class:"layout-navbar"},Ut={class:"menu-wrapper"},jt=T({__name:"default-layout",setup(t){const n=R(!1),o=M();zt(!0);const c="60px",u=m(()=>o.navbar),b=m(()=>o.menu&&!o.topMenu),_=m(()=>o.hideMenu),f=m(()=>o.footer),h=m(()=>o.menuCollapse?48:o.menuWidth),C=m(()=>o.menuCollapse),S=m(()=>{const x=b.value&&!_.value?{paddingLeft:`${h.value}px`}:{},e=u.value?{paddingTop:c}:{};return{...x,...e}}),I=x=>{!n.value||o.updateSettings({menuCollapse:x})},s=R(!1),p=()=>{s.value=!1};return Qe("toggleDrawerMenu",()=>{s.value=!s.value}),te(()=>{n.value=!0}),(x,e)=>{const r=We,y=He,k=qe,l=Je;return v(),w(l,{class:ee(["layout",{mobile:d(o).hideMenu}])},{default:i(()=>[d(u)?(v(),L("div",Nt,[a(it)])):$("",!0),a(l,null,{default:i(()=>[a(l,null,{default:i(()=>[d(b)?Ke((v(),w(r,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:d(C),collapsible:!0,width:d(h),style:U({paddingTop:d(u)?"60px":""}),"hide-trigger":!0,onCollapse:I},{default:i(()=>[g("div",Ut,[a(J)])]),_:1},8,["collapsed","width","style"])),[[Ve,!d(_)]]):$("",!0),d(_)?(v(),w(y,{key:1,visible:s.value,placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:p},{default:i(()=>[a(J)]),_:1},8,["visible"])):$("",!0),a(l,{class:"layout-content",style:U(d(S))},{default:i(()=>[d(o).tabBar?(v(),w(Et,{key:0})):$("",!0),a(k,null,{default:i(()=>[a(At)]),_:1}),d(f)?(v(),w(ve,{key:1})):$("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["class"])}}});const en=F(jt,[["__scopeId","data-v-9cbc4083"]]);export{en as default};
