import{f as R,p as U,q,s as H,_ as J}from"./index.b201a747.js";/* empty css               *//* empty css              *//* empty css               */import{d as K,e as x,a4 as M,aX as X,aY as Y,a$ as j,bn as G,bs as O,aC as h,aI as o,bt as Q,A as r,aJ as n,be as W,aL as Z,E as u,B as g,aK as B,C as ee,aM as k,aN as w,n as oe,bu as ne,a_ as te,bv as se}from"./arco.79b3a20c.js";import{l as C}from"./lodash.8c41d9ef.js";import{S as ae}from"./sortable.esm.41bdaeb5.js";import"./chart.c056e818.js";import"./vue.73de78ef.js";const le={class:"action-icon"},ce={class:"action-icon"},ie={id:"tableSetting"},ue={style:{"margin-right":"4px",cursor:"move"}},re={class:"title"},de=K({__name:"tool",props:{columns:null,size:null,enableCreate:{type:Boolean}},emits:["update:size","update:columns","add","refresh"],setup(m,{emit:d}){const y=m,c=x([]),_=x([]),D=t=>{d("update:size",t)};(t=>{c.value=C.exports.cloneDeep(t),c.value.forEach((e,l)=>{e.checked=!0}),_.value=C.exports.cloneDeep(c.value)})(y.columns);const b=(t,e,l,i=!1)=>{const s=i?C.exports.cloneDeep(t):t;return e>-1&&l>-1&&s.splice(e,1,s.splice(l,1,s[e]).pop()),s},V=t=>{t&&oe(()=>{const e=document.getElementById("tableSetting");new ae(e,{onEnd(l){const{oldIndex:i,newIndex:s}=l;b(c.value,i,s),b(_.value,i,s),d("update:columns",c.value)}})})},z=(t,e,l)=>{t?c.value.splice(l,0,e):c.value=_.value.filter(i=>i.checked),d("update:columns",c.value)};return(t,e)=>{const l=M,i=X,s=ne,E=R,v=Y,I=U,S=te,F=j,A=q,L=H,N=G,T=O,$=Q,P=se("permission");return r(),h($,{style:{"align-items":"center","margin-bottom":"16px"}},{default:o(()=>[n(s,{span:12},{default:o(()=>[W((r(),h(i,{disabled:!m.enableCreate,type:"primary",onClick:e[0]||(e[0]=a=>d("add"))},{icon:o(()=>[n(l)]),default:o(()=>[Z(" \u65B0\u5EFA\u53D8\u91CF ")]),_:1},8,["disabled"])),[[P,"configure:business:add"]])]),_:1}),n(s,{span:12,class:"tool"},{default:o(()=>[n(v,{content:"\u5237\u65B0"},{default:o(()=>[u("div",{class:"action-icon",onClick:e[1]||(e[1]=a=>d("refresh"))},[n(E,{size:"18"})])]),_:1}),n(F,{onSelect:D},{content:o(()=>[(r(!0),g(w,null,B(t.$densityList,(a,p)=>(r(),h(S,{key:p,value:p,class:ee({active:p===m.size})},{default:o(()=>[u("span",null,k(a),1)]),_:2},1032,["value","class"]))),128))]),default:o(()=>[n(v,{content:"\u5B57\u4F53\u5927\u5C0F"},{default:o(()=>[u("div",le,[n(I,{size:"18"})])]),_:1})]),_:1}),n(v,{content:"\u884C\u8BBE\u7F6E"},{default:o(()=>[n(T,{trigger:"click",position:"bl",onPopupVisibleChange:V},{content:o(()=>[u("div",ie,[(r(!0),g(w,null,B(_.value,(a,p)=>(r(),g("div",{key:a.dataIndex,class:"setting"},[u("div",ue,[n(L)]),u("div",null,[n(N,{modelValue:a.checked,"onUpdate:modelValue":f=>a.checked=f,onChange:f=>z(f,a,p)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("div",re,k(a.title==="#"?"index":a.title),1)]))),128))])]),default:o(()=>[u("div",ce,[n(A,{size:"18"})])]),_:1})]),_:1})]),_:1})]),_:1})}}});const Be=J(de,[["__scopeId","data-v-968690e1"]]);export{Be as default};
