import{C as _}from"./index.9de08a74.js";/* empty css              *//* empty css               *//* empty css               *//* empty css                */import{d as U,e as v,w as D,bB as x,bm as B,bA as E,bC as N,bo as I,bh as A,aC as r,aI as c,A as o,B as L,aK as O,aD as d,aL as y,aN as R,bp as T}from"./arco.79b3a20c.js";const M=U({__name:"value",props:{type:null,values:null,envs:null},emits:["update"],setup(n,{expose:V,emit:g}){const s=n,f=v(),i=v(!1),a=v({});D(()=>s.values,p=>{a.value={},p.forEach(l=>{let t=l.value;(s.type==="int"||s.type==="float")&&(t=JSON.parse(l.value)),s.type==="bool"&&(t=l.value==="true"),a.value[String(l.env_id)]=t})}),V({showUpdateDrawer:()=>{i.value=!0},closeDrawer:()=>{i.value=!1}});const w=async()=>{if(await f.value.validate())return!1;const l=[];return s.envs.forEach(t=>{const m=a.value[String(t.id)];l.push({env_keyword:t.keyword,env_id:t.id,value:String(m)})}),g("update",[...l]),!0};return(p,l)=>{const t=x,m=B,b=E,h=N,F=T,k=I,S=A;return o(),r(S,{visible:i.value,"onUpdate:visible":l[0]||(l[0]=e=>i.value=e),title:"\u8D44\u6E90\u503C\u914D\u7F6E",width:"380px",onCancel:l[1]||(l[1]=e=>i.value=!1),onBeforeOk:w},{default:c(()=>[n.type?(o(),r(k,{key:0,ref_key:"formRef",ref:f,model:a.value,"label-align":"left",layout:"vertical","auto-label-width":""},{default:c(()=>[(o(!0),L(R,null,O(n.envs,(e,C)=>(o(),r(F,{key:C,field:String(e.id),label:e.name+"("+e.keyword+")",rules:[{required:!0,message:e.name+"("+e.keyword+")\u914D\u7F6E\u662F\u5FC5\u586B\u9879"}],"validate-trigger":["change","input"]},{default:c(()=>[n.type==="int"?(o(),r(t,{key:0,modelValue:a.value[String(e.id)],"onUpdate:modelValue":u=>a.value[String(e.id)]=u,placeholder:"\u8BF7\u8F93\u5165\u53D8\u91CF\u503C",mode:"button",precision:0},null,8,["modelValue","onUpdate:modelValue"])):d("",!0),n.type==="float"?(o(),r(t,{key:1,modelValue:a.value[String(e.id)],"onUpdate:modelValue":u=>a.value[String(e.id)]=u,placeholder:"\u8BF7\u8F93\u5165\u53D8\u91CF\u503C",mode:"button"},null,8,["modelValue","onUpdate:modelValue"])):d("",!0),n.type==="string"?(o(),r(m,{key:2,modelValue:a.value[String(e.id)],"onUpdate:modelValue":u=>a.value[String(e.id)]=u,placeholder:"\u8BF7\u8F93\u5165\u53D8\u91CF\u503C","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])):d("",!0),n.type==="textarea"?(o(),r(b,{key:3,modelValue:a.value[String(e.id)],"onUpdate:modelValue":u=>a.value[String(e.id)]=u,placeholder:"\u8BF7\u8F93\u5165\u53D8\u91CF\u503C","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])):d("",!0),n.type==="bool"?(o(),r(h,{key:4,modelValue:a.value[String(e.id)],"onUpdate:modelValue":u=>a.value[String(e.id)]=u,type:"round"},{checked:c(()=>[y("\u662F")]),unchecked:c(()=>[y("\u5426")]),_:2},1032,["modelValue","onUpdate:modelValue"])):d("",!0),n.type==="object"?(o(),r(_,{key:5,modelValue:a.value[String(e.id)],"onUpdate:modelValue":u=>a.value[String(e.id)]=u,style:{width:"100%",height:"150px"},"show-folding":!1,"show-line":!1},null,8,["modelValue","onUpdate:modelValue"])):d("",!0)]),_:2},1032,["field","label","rules"]))),128))]),_:1},8,["model"])):d("",!0)]),_:1},8,["visible"])}}});export{M as _};
