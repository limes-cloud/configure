import"./index.7106be94.js";/* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css                *//* empty css               */import{d as y,e as B,bu as D,aU as E,ae as S,ad as T,bv as $,bw as A,bx as N,aC as r,aI as e,A as o,bc as g,aJ as n,B as P,aK as x,aL as s,aM as _,u as F,aN as I,aD as V,bt as q}from"./arco.df66b857.js";import{l as L}from"./lodash.aff41c0f.js";const ee=y({__name:"table",props:{columns:null,loading:{type:Boolean},data:null,size:null,pagination:null,total:null},emits:["delete","update","add","set","resetToken","queryToken","pageChange"],setup(l,{emit:c}){const i=B({current:1,pageSize:10}),v=t=>{i.value.current=t,c("pageChange",i.value)},h=t=>{i.value.pageSize=t,c("pageChange",i.value)};return(t,O)=>{const u=D,d=E,f=S,C=T,k=$,z=A,b=N,m=q("permission");return o(),r(d,{direction:"vertical",fill:""},{default:e(()=>[g((o(),r(z,{"row-key":"id",loading:l.loading,columns:l.columns,pagination:!1,data:l.data,bordered:!1,size:l.size},{fields:e(({record:a})=>[n(d,null,{default:e(()=>[(o(!0),P(I,null,x(F(L.exports.split)(a.fields,","),(p,w)=>(o(),r(u,{key:w},{default:e(()=>[s(_(p),1)]),_:2},1024))),128))]),_:2},1024)]),createdAt:e(({record:a})=>[s(_(t.$formatTime(a.created_at)),1)]),updatedAt:e(({record:a})=>[s(_(t.$formatTime(a.updated_at)),1)]),operations:e(({record:a})=>[n(d,{class:"cursor-pointer"},{default:e(()=>[g((o(),r(u,{color:"arcoblue",onClick:p=>c("set",a.id)},{icon:e(()=>[n(f)]),default:e(()=>[s(" \u914D\u7F6E ")]),_:2},1032,["onClick"])),[[m,"configure:resource:value"]]),g((o(),r(u,{color:"orangered",onClick:p=>c("update",a)},{icon:e(()=>[n(f)]),default:e(()=>[s(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[m,"configure:resource:update"]]),t.$hasPermission("configure:resource:delete")?(o(),r(k,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u8D44\u6E90",type:"warning",onOk:p=>c("delete",a.id)},{default:e(()=>[n(u,{color:"red"},{icon:e(()=>[n(C)]),default:e(()=>[s(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):V("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[m,"configure:resource:query"]]),n(b,{total:l.total,current:i.value.current,"page-size":i.value.pageSize,"show-total":"","show-jumper":"","show-page-size":"",onChange:v,onPageSizeChange:h},null,8,["total","current","page-size"])]),_:1})}}});export{ee as _};
