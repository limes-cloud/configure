import"./index.23df448f.js";/* empty css               *//* empty css              */import{d as D,e as w,ae as S,bV as A,ad as E,b0 as $,bk as B,bS as T,b$ as N,aC as r,aJ as a,b_ as P,A as u,bE as l,aM as t,aN as d,u as V,aK as s,aD as F,aG as q}from"./arco.5cfe922d.js";import{D as I}from"./api.a9e53415.js";import{v as M}from"./type.a4a3f801.js";const R=D({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{},pagination:{},total:{}},emits:["refresh","update","add","set","pageChange"],setup(O,{emit:f}){const i=f,n=w({page:1,pageSize:10}),b=e=>{n.value.page=e,i("pageChange",n.value)},h=e=>{n.value.pageSize=e,i("pageChange",n.value)},v=async e=>{await I({id:e}),q.success("\u5220\u9664\u6210\u529F"),i("refresh")};return(e,j)=>{const g=S,c=A,C=E,z=$,m=B,k=T,y=N,p=P("permission");return u(),r(m,{direction:"vertical",fill:""},{default:a(()=>[l((u(),r(k,{"row-key":"id",loading:e.loading,columns:e.columns,pagination:!1,data:e.data,bordered:!1,size:e.size},{type:a(({record:o})=>[t(d(V(M)[o.type]),1)]),createdAt:a(({record:o})=>[t(d(e.$formatTime(o.createdAt)),1)]),updatedAt:a(({record:o})=>[t(d(e.$formatTime(o.updatedAt)),1)]),operations:a(({record:o})=>[s(m,{class:"cursor-pointer"},{default:a(()=>[l((u(),r(c,{color:"arcoblue",onClick:_=>i("set",o)},{icon:a(()=>[s(g)]),default:a(()=>[t(" \u914D\u7F6E ")]),_:2},1032,["onClick"])),[[p,"configure:business:value:query"]]),l((u(),r(c,{color:"orangered",onClick:_=>i("update",o)},{icon:a(()=>[s(g)]),default:a(()=>[t(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[p,"configure:business:update"]]),e.$hasPermission("configure:business:delete")?(u(),r(z,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u8D44\u6E90",type:"warning",onOk:_=>v(o.id)},{default:a(()=>[s(c,{color:"red"},{icon:a(()=>[s(C)]),default:a(()=>[t(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):F("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[p,"configure:business:query"]]),s(y,{total:e.total,current:n.value.page,"page-size":n.value.pageSize,"show-total":"","show-jumper":"","show-page-size":"",onChange:b,onPageSizeChange:h},null,8,["total","current","page-size"])]),_:1})}}});export{R as _};
