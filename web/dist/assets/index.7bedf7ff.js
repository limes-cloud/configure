import"./index.dcee45e5.js";/* empty css               */import{d as y,e as a,bR as z,B as R,aK as t,aJ as x,aX as A,A as D}from"./arco.5cfe922d.js";import{u as S}from"./loading.10c31f32.js";import{L as N}from"./api.4f3f3ec2.js";import{L as b}from"./api.6c539ed8.js";import k from"./tool.3f17047b.js";import{_ as E}from"./table.vue_vue_type_script_setup_true_lang.c4f01062.js";import{_ as I}from"./form.vue_vue_type_script_setup_true_lang.7de2473c.js";import{_ as L}from"./search.vue_vue_type_script_setup_true_lang.45c4d76b.js";import{_ as U}from"./value.vue_vue_type_script_setup_true_lang.3fc98d21.js";import"./chart.903d1bcc.js";import"./vue.f8d3c6d1.js";/* empty css               *//* empty css               */import"./lodash.8451dd2a.js";import"./sortable.esm.41bdaeb5.js";/* empty css               *//* empty css              *//* empty css              */import"./search.f33d2c59.js";import"./api.64a2d5f2.js";const T={class:"container"},$={name:"ConfigureResource"},ie=y({...$,setup(G){const l=a(),d=a(),{setLoading:m}=S(!0),v=a(!1),c=a(),r=a("medium"),p=a(0),f=a([]),o=a({page:1,pageSize:10}),u=a([{title:"\u53D8\u91CF\u6807\u8BC6",dataIndex:"keyword",slotName:"keyword"},{title:"\u53D8\u91CF\u5B57\u6BB5",dataIndex:"fields",slotName:"fields"},{title:"\u53D8\u91CF\u6807\u7B7E",dataIndex:"tag",slotName:"tag"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",slotName:"createdAt"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatedAt",slotName:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations"}]);(async()=>{const{data:e}=await N({status:!0});f.value=e.list})();const n=async()=>{m(!0);try{const{data:e}=await b(o.value);c.value=e.list,p.value=e.total}finally{m(!1)}};n();const _=async e=>{const{pageSize:s}=o.value;o.value={...e,page:1,pageSize:s},n()},g=()=>{l.value.showAddDrawer()},h=e=>{l.value.showUpdateDrawer(e.id)},C=e=>{d.value.showUpdateDrawer(e.id)},B=async e=>{o.value.page=e.page,o.value.pageSize=e.pageSize,n()};return(e,s)=>{const w=A("Breadcrumb"),F=z;return D(),R("div",T,[t(w),t(F,{class:"general-card"},{default:x(()=>[t(L,{onSearch:_}),t(k,{size:r.value,"onUpdate:size":s[0]||(s[0]=i=>r.value=i),columns:u.value,"onUpdate:columns":s[1]||(s[1]=i=>u.value=i),onRefresh:n,onAdd:g},null,8,["size","columns"]),t(E,{columns:u.value,loading:v.value,data:c.value,size:r.value,total:p.value,pagination:o.value,onPageChange:B,onRefresh:n,onUpdate:h,onSet:C},null,8,["columns","loading","data","size","total","pagination"]),t(I,{ref_key:"formRef",ref:l,onRefresh:n},null,512),t(U,{ref_key:"valueRef",ref:d,envs:f.value},null,8,["envs"])]),_:1})])}}});export{ie as default};
