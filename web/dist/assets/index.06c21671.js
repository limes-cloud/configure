import"./index.61b249da.js";/* empty css              *//* empty css               */import{d as B,e as a,bp as x,B as S,aJ as s,aI as C,A as I,aP as m,aQ as N}from"./arco.9b5dfa89.js";import{p as U,a as b,u as k,d as T}from"./server.f61e5623.js";import{u as E}from"./loading.eb6d651b.js";import R from"./tool.3b09ac9c.js";import{_ as $}from"./table.vue_vue_type_script_setup_true_lang.f4c8070a.js";import{_ as L}from"./form.vue_vue_type_script_setup_true_lang.bf040411.js";import{_ as G}from"./search.vue_vue_type_script_setup_true_lang.738372c8.js";import"./chart.a7f56037.js";import"./vue.b2201ea8.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import"./lodash.d7f1e1af.js";import"./sortable.esm.41bdaeb5.js";/* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css                */const J={class:"container"},M={name:"BasicServer"},fe=B({...M,setup(P){const r=a(),u=a({}),{setLoading:p}=E(!0),_=a(!1),c=a(),l=a("medium"),v=a(0),n=a({page:1,page_size:10}),d=a([{title:"\u670D\u52A1\u6807\u5FD7",dataIndex:"keyword",slotName:"keyword"},{title:"\u670D\u52A1\u540D\u79F0",dataIndex:"name",slotName:"name"},{title:"\u670D\u52A1\u63CF\u8FF0",dataIndex:"description",slotName:"description"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",slotName:"createdAt"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updated_at",slotName:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations"}]),t=async()=>{p(!0);try{const{data:e}=await U(n.value);c.value=e.list,v.value=e.total}finally{p(!1)}};t();const f=async e=>{await b(e),t(),m.success("\u521B\u5EFA\u6210\u529F")},g=async e=>{await k(e),t(),m.success("\u66F4\u65B0\u6210\u529F")},F=async e=>{await T(e),t(),m.success("\u5220\u9664\u6210\u529F")},A=async e=>{const o=n.value.page_size;n.value={...e,page:1,page_size:o},t()},h=()=>{u.value={},r.value.showAddDrawer()},w=e=>{u.value={...e},r.value.showUpdateDrawer()},z=e=>{u.value={},r.value.showAddDrawer()};return(e,o)=>{const D=N("Breadcrumb"),y=x;return I(),S("div",J,[s(D),s(y,{class:"general-card"},{default:C(()=>[s(G,{onSearch:A}),s(R,{size:l.value,"onUpdate:size":o[0]||(o[0]=i=>l.value=i),columns:d.value,"onUpdate:columns":o[1]||(o[1]=i=>d.value=i),onRefresh:t,onAdd:h},null,8,["size","columns"]),s($,{columns:d.value,loading:_.value,data:c.value,size:l.value,total:v.value,pagination:{current:n.value.page,pageSize:n.value.page_size},onAdd:z,onUpdate:w,onDelete:F},null,8,["columns","loading","data","size","total","pagination"]),s(L,{ref_key:"formRef",ref:r,data:u.value,onAdd:f,onUpdate:g},null,8,["data"])]),_:1})])}}});export{fe as default};
