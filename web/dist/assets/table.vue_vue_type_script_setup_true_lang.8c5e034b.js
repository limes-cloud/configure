import"./index.23df448f.js";/* empty css               *//* empty css              */import{d as $,e as m,bf as y,ae as V,bV as E,ad as P,b0 as T,bk as N,bS as U,b$ as M,B as O,aK as o,aJ as a,b_ as I,A as c,bE as _,aC as r,aM as n,aN as f,aD as j,aG as h,aH as q}from"./arco.5cfe922d.js";import{D as G,U as H}from"./api.315307ec.js";const X=$({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{},pagination:{},total:{}},emits:["update","refresh","pageChange"],setup(J,{emit:v}){m();const u=v,s=m({page:1,pageSize:10}),C=e=>{s.value.page=e,u("pageChange",s.value)},b=e=>{s.value.pageSize=e,u("pageChange",s.value)},k=async e=>{await G({id:e}),h.success("\u5220\u9664\u6210\u529F"),u("refresh")},S=e=>{const l=e.status?"\u542F\u7528":"\u7981\u7528";q.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${l}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await H({id:e.id,status:e.status}),h.success(`${l}\u6210\u529F`)},onCancel:()=>{e.status=!e.status}})};return(e,l)=>{const z=y,A=V,p=E,w=P,D=T,d=N,B=U,F=M,g=I("permission");return c(),O("div",null,[o(d,{direction:"vertical",fill:""},{default:a(()=>[_((c(),r(B,{"row-key":"id",loading:e.loading,columns:e.columns,pagination:!1,data:e.data,bordered:!1,size:e.size},{status:a(({record:t})=>[o(z,{modelValue:t.status,"onUpdate:modelValue":i=>t.status=i,disabled:!e.$hasPermission("configure:server:update:status"),type:"round",onChange:i=>S(t)},{checked:a(()=>[n("\u542F\u7528")]),unchecked:a(()=>[n("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:a(({record:t})=>[n(f(e.$formatTime(t.createdAt)),1)]),updatedAt:a(({record:t})=>[n(f(e.$formatTime(t.updatedAt)),1)]),operations:a(({record:t})=>[o(d,{class:"cursor-pointer"},{default:a(()=>[_((c(),r(p,{color:"orangered",onClick:i=>u("update",t)},{icon:a(()=>[o(A)]),default:a(()=>[n(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[g,"configure:server:update"]]),e.$hasPermission("configure:server:delete")?(c(),r(D,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u670D\u52A1",type:"warning",onOk:i=>k(t.id)},{default:a(()=>[o(p,{color:"red"},{icon:a(()=>[o(w)]),default:a(()=>[n(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):j("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[g,"configure:server:query"]]),o(F,{total:e.total,current:s.value.page,"page-size":s.value.pageSize,"show-total":"","show-jumper":"","show-page-size":"",onChange:C,onPageSizeChange:b},null,8,["total","current","page-size"])]),_:1})])}}});export{X as _};
