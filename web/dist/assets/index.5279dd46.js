import{b as I,u as D,p as E,q as P,_ as q}from"./index.dcee45e5.js";import{d as U,e as y,aW as z,r as N,b1 as R,b5 as L,bh as M,bk as j,b9 as G,B as J,E as s,aN as g,u as d,aK as e,aJ as o,aG as K,A as Q,aM as x,ba as T,bb as W}from"./arco.5cfe922d.js";import{F as $}from"./index.b89d0657.js";import{u as H,j as O}from"./vue.f8d3c6d1.js";import{u as X}from"./loading.10c31f32.js";import"./chart.903d1bcc.js";const Y={class:"container"},Z={class:"logo"},ee=["src"],se={class:"content"},oe={class:"content-inner"},ae={class:"login-form-wrapper"},te={class:"login-form-title"},ne={class:"login-form-sub-title"},re={class:"login-form-error-msg"},ue={class:"login-form-password-actions"},le={class:"footer"},ce=U({__name:"index",setup(ie){const f=y(null),c=H(),v=y(""),{loading:h,setLoading:b}=X(),B=I(),w=D(),a=O("login-config",{rememberPassword:!0,username:"",password:""});z(()=>{clearInterval(f.value),f.value=null});const r=N({username:a.value.username,password:a.value.password}),F=async({errors:u,values:t})=>{if(!h.value&&!u){b(!0);try{await B.login(t);const{redirect:n,...i}=c.currentRoute.value.query;n&&c.hasRoute(n)?c.push({name:n,query:{...i}}):c.push({path:"/",query:{...i}}),K.success("\u767B\u9646\u6210\u529F");const{rememberPassword:l}=a.value,{username:_,password:m}=t;a.value.username=l?_:"",a.value.password=l?m:""}catch(n){v.value=n.message}finally{b(!1)}}},A=u=>{a.value.rememberPassword=u};return(u,t)=>{const n=E,i=R,l=T,_=P,m=W,C=L,S=M,V=j,k=G;return Q(),J("div",Y,[s("div",Z,[s("img",{alt:"logo",style:{width:"100px"},src:u.$logo},null,8,ee)]),s("div",se,[s("div",oe,[s("div",ae,[s("div",te,g(d(w).title),1),s("div",ne,g(d(w).desc),1),s("div",re,g(v.value),1),e(k,{model:r,class:"login-form",layout:"vertical",onSubmit:F},{default:o(()=>[e(l,{field:"username",rules:[{required:!0,message:"\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(i,{modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=p=>r.username=p),size:"large",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237"},{prefix:o(()=>[e(n)]),_:1},8,["modelValue"])]),_:1}),e(l,{field:"password",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(m,{modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=p=>r.password=p),size:"large",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","allow-clear":"",autocomplete:""},{prefix:o(()=>[e(_)]),_:1},8,["modelValue"])]),_:1}),e(V,{size:16,direction:"vertical"},{default:o(()=>[s("div",ue,[e(C,{checked:"rememberPassword","model-value":d(a).rememberPassword,onChange:A},{default:o(()=>[x("\u8BB0\u4F4F\u5BC6\u7801")]),_:1},8,["model-value","onChange"])]),e(S,{size:"large",type:"primary","html-type":"submit",long:"",loading:d(h)},{default:o(()=>[x("\u786E\u8BA4\u767B\u5F55")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])]),s("div",le,[e($)])])])}}});const ve=q(ce,[["__scopeId","data-v-4554298a"]]);export{ve as default};
