import"./index.ddbbfbf8.js";/* empty css              */import{d as k,e as s,w as E,b1 as U,b6 as x,b2 as A,b9 as I,bH as q,aC as f,aJ as t,aG as F,A as d,aK as l,B as N,aL as O,aM as S,aN as T,u as L,aO as M,ba as R,be as z}from"./arco.b1c3a1f5.js";import{C as G,U as H}from"./api.9b8fb919.js";import{v as J}from"./type.a4a3f801.js";const Z=k({__name:"form",props:{data:{},serverId:{}},emits:["refresh"],setup(v,{expose:C,emit:_}){const m=s(),r=s(!1),o=s(!1),p=v,u=s({}),w=_;E(()=>p.data,n=>{u.value=n}),C({showAddDrawer:()=>{r.value=!0,o.value=!0},showUpdateDrawer:()=>{r.value=!0,o.value=!1},closeDrawer:()=>{r.value=!1}});const B=async()=>{if(await m.value.validate())return!1;const e=u.value;return o.value?(await G({...e,serverId:p.serverId}),F.success("\u521B\u5EFA\u6210\u529F")):(await H(e),F.success("\u66F4\u65B0\u6210\u529F")),w("refresh"),!0};return(n,e)=>{const b=U,i=R,D=z,g=x,y=A,V=I,h=q;return d(),f(h,{visible:r.value,"onUpdate:visible":e[3]||(e[3]=a=>r.value=a),title:o.value?"\u65B0\u5EFA":"\u4FEE\u6539",width:"380px",onCancel:e[4]||(e[4]=a=>r.value=!1),onBeforeOk:B},{default:t(()=>[l(V,{ref_key:"formRef",ref:m,model:u.value,"label-align":"left",layout:"horizontal","auto-label-width":""},{default:t(()=>[l(i,{field:"keyword",label:"\u53D8\u91CF\u6807\u8BC6",rules:[{required:!0,message:"\u53D8\u91CF\u6807\u8BC6\u662F\u5FC5\u586B\u9879"}],"validate-trigger":["change","input"]},{default:t(()=>[l(b,{modelValue:u.value.keyword,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value.keyword=a),placeholder:"\u8BF7\u8F93\u5165\u53D8\u91CF\u6807\u8BC6","allow-clear":""},null,8,["modelValue"])]),_:1}),l(i,{field:"type",label:"\u53D8\u91CF\u7C7B\u578B",rules:[{required:!0,message:"\u53D8\u91CF\u7C7B\u578B\u662F\u5FC5\u586B\u9879"}],"validate-trigger":["change","input"]},{default:t(()=>[l(g,{modelValue:u.value.type,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value.type=a),placeholder:"\u8BF7\u9009\u62E9\u53D8\u91CF\u7C7B\u578B",scrollbar:!0},{default:t(()=>[(d(!0),N(M,null,O(L(J),(a,c)=>(d(),f(D,{key:c,value:c},{default:t(()=>[S(T(a),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,{field:"description",label:"\u53D8\u91CF\u63CF\u8FF0",rules:[{required:!0,message:"\u53D8\u91CF\u63CF\u8FF0\u662F\u5FC5\u586B\u9879"}],"validate-trigger":["change","input"]},{default:t(()=>[l(y,{modelValue:u.value.description,"onUpdate:modelValue":e[2]||(e[2]=a=>u.value.description=a),placeholder:"\u8BF7\u8F93\u5165\u53D8\u91CF\u63CF\u8FF0","allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}});export{Z as _};
