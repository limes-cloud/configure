import"./index.ddbbfbf8.js";/* empty css               *//* empty css              *//* empty css               */import{d as F,e as $,bf as B,ae as V,bV as E,ad as P,b0 as T,by as N,bS as U,b$ as M,aC as c,aJ as a,b_ as O,A as l,bE as m,aK as s,aM as n,aN as _,aD as I,aG as f,aH as j}from"./arco.b1c3a1f5.js";import{D as q,U as G}from"./api.f14f2699.js";const X=F({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{},pagination:{},total:{}},emits:["update","refresh","pageChange"],setup(H,{emit:h}){const u=h,o=$({page:1,pageSize:10}),v=e=>{o.value.page=e,u("pageChange",o.value)},C=e=>{o.value.pageSize=e,u("pageChange",o.value)},b=async e=>{await q({ids:[e]}),f.success("\u5220\u9664\u6210\u529F"),u("refresh")},S=e=>{const r=e.status?"\u542F\u7528":"\u7981\u7528";j.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${r}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await G({id:e.id,status:e.status}),f.success(`${r}\u6210\u529F`)},onCancel:()=>{e.status=!e.status}})};return(e,r)=>{const z=B,A=V,p=E,k=P,w=T,d=N,D=U,y=M,g=O("permission");return l(),c(d,{direction:"vertical",fill:""},{default:a(()=>[m((l(),c(D,{"row-key":"id",loading:e.loading,columns:e.columns,pagination:!1,data:e.data,bordered:!1,size:e.size},{status:a(({record:t})=>[s(z,{modelValue:t.status,"onUpdate:modelValue":i=>t.status=i,disabled:!e.$hasPermission("configure:server:update:status"),type:"round",onChange:i=>S(t)},{checked:a(()=>[n("\u542F\u7528")]),unchecked:a(()=>[n("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:a(({record:t})=>[n(_(e.$formatTime(t.createdAt)),1)]),updatedAt:a(({record:t})=>[n(_(e.$formatTime(t.updatedAt)),1)]),operations:a(({record:t})=>[s(d,{class:"cursor-pointer"},{default:a(()=>[m((l(),c(p,{color:"orangered",onClick:i=>u("update",t)},{icon:a(()=>[s(A)]),default:a(()=>[n(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[g,"configure:server:update"]]),e.$hasPermission("configure:server:delete")?(l(),c(w,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u670D\u52A1",type:"warning",onOk:i=>b(t.id)},{default:a(()=>[s(p,{color:"red"},{icon:a(()=>[s(k)]),default:a(()=>[n(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):I("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[g,"configure:server:query"]]),s(y,{total:e.total,current:o.value.page,"page-size":o.value.pageSize,"show-total":"","show-jumper":"","show-page-size":"",onChange:v,onPageSizeChange:C},null,8,["total","current","page-size"])]),_:1})}}});export{X as _};
