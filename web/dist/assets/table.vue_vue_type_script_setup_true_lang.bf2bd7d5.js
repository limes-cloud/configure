import"./index.ddbbfbf8.js";/* empty css               *//* empty css              *//* empty css               */import{d as $,bf as T,ae as w,bV as B,ad as V,b0 as S,by as z,bS as G,aC as i,aJ as t,b_ as N,A as c,bE as r,aK as s,aM as n,aN as f,aD as U,aH as m,aG as g}from"./arco.b1c3a1f5.js";import{U as M,D as O,G as P,R}from"./api.22fb4e3c.js";const Q=$({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{}},emits:["refresh","update","pageChange"],setup(q,{emit:v}){const _=v,F=e=>{const o=e.status?"\u542F\u7528":"\u7981\u7528";m.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${o}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await M({id:e.id,status:e.status}),g.success(`${o}\u6210\u529F`)},onCancel:()=>{e.status=!e.status}})},h=async e=>{await O({ids:[e]}),g.success("\u5220\u9664\u6210\u529F"),_("refresh")},C=async e=>{const{data:o}=await P(e);m.success({title:"\u83B7\u53D6Toekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${o.token}`})},A=async e=>{const{data:o}=await R(e);m.success({title:"\u91CD\u7F6EToekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${o.token}`})};return(e,o)=>{const D=T,p=w,l=B,b=V,E=S,k=z,y=G,d=N("permission");return c(),i(k,null,{default:t(()=>[r((c(),i(y,{"row-key":"id",loading:e.loading,columns:e.columns,pagination:!1,data:e.data,bordered:!1,size:e.size},{status:t(({record:a})=>[s(D,{modelValue:a.status,"onUpdate:modelValue":u=>a.status=u,disabled:!e.$hasPermission("configure:env:update:status"),type:"round",onChange:u=>F(a)},{checked:t(()=>[n("\u542F\u7528")]),unchecked:t(()=>[n("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:t(({record:a})=>[n(f(e.$formatTime(a.createdAt)),1)]),updatedAt:t(({record:a})=>[n(f(e.$formatTime(a.updatedAt)),1)]),operations:t(({record:a})=>[s(k,{class:"cursor-pointer"},{default:t(()=>[r((c(),i(l,{color:"arcoblue",onClick:u=>C(a.id)},{icon:t(()=>[s(p)]),default:t(()=>[n(" \u83B7\u53D6token ")]),_:2},1032,["onClick"])),[[d,"configure:env:token:query"]]),r((c(),i(l,{color:"orangered",onClick:u=>A(a.id)},{icon:t(()=>[s(p)]),default:t(()=>[n(" \u91CD\u7F6Etoken ")]),_:2},1032,["onClick"])),[[d,"configure:env:token:reset"]]),r((c(),i(l,{color:"orangered",onClick:u=>_("update",a)},{icon:t(()=>[s(p)]),default:t(()=>[n(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[d,"configure:env:update"]]),e.$hasPermission("configure:env:delete")?(c(),i(E,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u73AF\u5883",type:"warning",onOk:u=>h(a.id)},{default:t(()=>[s(l,{color:"red"},{icon:t(()=>[s(b)]),default:t(()=>[n(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):U("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[d,"configure:env:query"]])]),_:1})}}});export{Q as _};
