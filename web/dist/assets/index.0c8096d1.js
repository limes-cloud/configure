import{u as S,a as P,k as D,m as E,_ as U}from"./index.34172a3f.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as q,e as y,b6 as z,r as L,bk as R,bl as M,aV as N,aU as j,bm as J,B as Q,E as o,aM as g,u as d,aJ as e,aI as s,aP as T,A as $,aL as x,bn as G,bo as H}from"./arco.9b5dfa89.js";import{F as K}from"./index.200d8fd6.js";import{u as O,j as W}from"./vue.b2201ea8.js";import{u as X}from"./loading.eb6d651b.js";import"./chart.a7f56037.js";const Y={class:"container"},Z={class:"logo"},ee=["src"],oe={class:"content"},se={class:"content-inner"},ae={class:"login-form-wrapper"},te={class:"login-form-title"},re={class:"login-form-sub-title"},ne={class:"login-form-error-msg"},ue={class:"login-form-password-actions"},le={class:"footer"},ce=q({__name:"index",setup(ie){const f=y(null),c=O(),v=y(""),{loading:b,setLoading:h}=X(),B=S(),w=P(),a=W("login-config",{rememberPassword:!0,username:"",password:""});z(()=>{clearInterval(f.value),f.value=null});const n=L({username:a.value.username,password:a.value.password,captcha:"",captcha_id:""}),F=async({errors:u,values:t})=>{if(!b.value&&!u){h(!0);try{await B.login(t);const{redirect:r,...i}=c.currentRoute.value.query;r&&c.hasRoute(r)?c.push({name:r,query:{...i}}):c.push({path:"/",query:{...i}}),T.success("\u767B\u9646\u6210\u529F");const{rememberPassword:l}=a.value,{username:_,password:m}=t;a.value.username=l?_:"",a.value.password=l?m:""}catch(r){v.value=r.message}finally{h(!1)}}},V=u=>{a.value.rememberPassword=u};return(u,t)=>{const r=D,i=R,l=G,_=E,m=H,k=M,A=N,C=j,I=J;return $(),Q("div",Y,[o("div",Z,[o("img",{alt:"logo",style:{width:"100px"},src:u.$logo},null,8,ee)]),o("div",oe,[o("div",se,[o("div",ae,[o("div",te,g(d(w).title),1),o("div",re,g(d(w).desc),1),o("div",ne,g(v.value),1),e(I,{model:n,class:"login-form",layout:"vertical",onSubmit:F},{default:s(()=>[e(l,{field:"username",rules:[{required:!0,message:"\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[e(i,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=p=>n.username=p),size:"large",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237"},{prefix:s(()=>[e(r)]),_:1},8,["modelValue"])]),_:1}),e(l,{field:"password",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[e(m,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=p=>n.password=p),size:"large",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","allow-clear":"",autocomplete:""},{prefix:s(()=>[e(_)]),_:1},8,["modelValue"])]),_:1}),e(C,{size:16,direction:"vertical"},{default:s(()=>[o("div",ue,[e(k,{checked:"rememberPassword","model-value":d(a).rememberPassword,onChange:V},{default:s(()=>[x(" \u8BB0\u4F4F\u5BC6\u7801 ")]),_:1},8,["model-value","onChange"])]),e(A,{size:"large",type:"primary","html-type":"submit",long:"",loading:d(b)},{default:s(()=>[x(" \u786E\u8BA4\u767B\u9646 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])]),o("div",le,[e(K)])])])}}});const xe=U(ce,[["__scopeId","data-v-888bcb1a"]]);export{xe as default};
