import{u as I,l as X,_ as R,a as K,g as ye,r as Q,h as ge,b as Y,c as we,I as xe,d as ke,e as Se,f as Ce,R as Te,i as $e,j as Ie,k as De,m as Me,n as Le,o as Ee}from"./index.ddbbfbf8.js";import{F as Be}from"./index.e35678fd.js";/* empty css              */import{o as Z,bo as Re,b as Fe,c as v,d as M,e as B,aK as t,bp as ee,bq as te,br as ne,h as P,aQ as W,bs as ze,bt as oe,bu as V,bh as ae,bv as Ae,M as Pe,bw as q,aM as se,aX as ce,A as y,B as L,E as g,D as z,u as p,aJ as _,aN as ue,aD as E,aC as T,aO as re,bx as We,by as Ke,a$ as je,bz as Ue,bi as J,bj as G,am as He,a_ as Oe,C as le,a0 as Ne,w as Ve,aW as qe,aL as Je,bA as Ge,bB as N,bC as Qe,bD as Xe,p as ie,bE as Ye,bF as Ze,bG as et,s as tt,a as nt,bH as ot,bI as at,bJ as st,bK as ct}from"./arco.b1c3a1f5.js";import{e as ut,u as de,f as pe,g as rt,h as lt,i as it}from"./vue.708d2434.js";import{l as dt}from"./lodash.2a84bba5.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import"./chart.a760e4f5.js";function pt(n,a,e,s=!1){n.addEventListener&&typeof n.addEventListener=="function"&&n.addEventListener(a,e,s)}function _t(n,a,e,s=!1){n.removeEventListener&&typeof n.removeEventListener=="function"&&n.removeEventListener(a,e,s)}const ft=992;function ht(){return document.body.getBoundingClientRect().width-1<ft}function vt(n){const a=I();function e(){if(!document.hidden){const r=ht();a.toggleDevice(r?"mobile":"desktop"),a.toggleMenu(r)}}const s=ut(e,100);Z(()=>{n&&s()}),Re(()=>{pt(window,"resize",s)}),Fe(()=>{_t(window,"resize",s)})}const mt=(n,a)=>{const{target:e="_blank",...s}=a||{};window.open(n,e,Object.entries(s).reduce((r,d)=>{const[h,m]=d;return[...r,`${h}=${m}`]},[]).join(","))},bt=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");function _e(){const n=I(),a=v(()=>n.appMenu);return{menuTree:v(()=>{const s=dt.exports.cloneDeep(a.value);s.sort((d,h)=>(d.meta.weight||0)-(h.meta.weight||0));function r(d,h){return d?d.map(l=>{var b,S;if(((b=l.meta)==null?void 0:b.hideChildrenInMenu)||!l.children)return l.children=[],l;l.children=l.children.filter(C=>{var $;return(($=C.meta)==null?void 0:$.hideInMenu)!==!0});const c=r(l.children,h+1);return c.length||h>1?(l.children=c,l):((S=l.meta)==null?void 0:S.hideInMenu)===!1?l:null}).filter(Boolean):null}return r(s,0)})}}function yt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ne(n)}const gt=M({emit:["collapse"],setup(n,{attrs:a}){const e=I(),s=de(),r=pe(),{menuTree:d}=_e(),h=v({get(){return e.device==="desktop"?e.menuCollapse:!1},set(i){e.updateSettings({menuCollapse:i})}}),m=v(()=>e.device==="mobile"?!1:e.layout==="topMenu"),l=B([]),c=B([]),b=i=>{if(bt.test(i.path)){mt(i.path),c.value=[i.name];return}const{hideInMenu:u,activeMenu:f}=i.meta;if(r.name===i.name&&!u&&!f){c.value=[i.name];return}s.push({name:i.name})},S=i=>{const u=[];let f=!1;const o=(w,x)=>{var D;if(w.name===i){f=!0,u.push(...x);return}(D=w.children)!=null&&D.length&&w.children.forEach(k=>{o(k,[...x,k.name])})};return d.value.forEach(w=>{f||o(w,[w.name])}),u};X(i=>{const{activeMenu:u,hideInMenu:f}=i.meta;if(!f||u){const o=S(u||i.name),w=new Set([...o,...l.value]);l.value=[...w],c.value=[u||o[o.length-1]]}},!0);const C=i=>{e.device==="desktop"&&e.updateSettings({menuCollapse:i})},$=()=>{function i(u,f=[]){return u&&u.forEach(o=>{var D;const w=(D=o==null?void 0:o.meta)!=null&&D.icon?()=>{var k;return P(W(`<${(k=o==null?void 0:o.meta)==null?void 0:k.icon}/>`))}:null,x=(o==null?void 0:o.children)&&(o==null?void 0:o.children.length)!==0?t(ze,{key:o==null?void 0:o.name},{default:()=>[i(o==null?void 0:o.children)],icon:w,title:()=>{var k;return P(W(((k=o==null?void 0:o.meta)==null?void 0:k.title)||""))}}):t(oe,{key:o==null?void 0:o.name,onClick:()=>b(o)},{default:()=>{var k;return[((k=o==null?void 0:o.meta)==null?void 0:k.title)||""]},icon:w});f.push(x)}),f}return i(d.value)};return()=>{let i;return t(te,ee({mode:m.value?"horizontal":"vertical",collapsed:h.value,"onUpdate:collapsed":u=>h.value=u,"open-keys":l.value,"onUpdate:open-keys":u=>l.value=u,"show-collapse-button":e.device!=="mobile","auto-open":!1,"selected-keys":c.value,"auto-open-selected":!0,style:"height: 100%;width:100%;",onCollapse:C},a),yt(i=$())?i:{default:()=>[i]})}}});const j=R(gt,[["__scopeId","data-v-38776251"]]);function wt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!ne(n)}const fe=M({emit:["collapse"],setup(n,{attrs:a}){const e=I(),s=K(),r=c=>{if(c.keyword===e.currentAppKey)return;e.setCurrentApp(c.keyword);let b=e.appHome;b||(b=ye(Q),e.setAppHome(e.currentAppKey,b)),s.setHomeTag(ge(b)),s.resetTab(),Q.push({path:e.appHomePath})},d=()=>{function c(b,S=[]){return b.forEach(C=>{const $=()=>P(W(`<icon-${C.icon}/>`)),i=t(oe,{key:C.keyword,onClick:()=>r(C)},{default:()=>[C.title],icon:$});S.push(i)}),S}return c(e.apps)},h=()=>{let c;return t(te,ee(a,{mode:e.layout==="twoColumns"?"vertical":"horizontal","selected-keys":[e.currentAppKey]}),wt(c=d())?c:{default:()=>[c]})},m=v(()=>{var c,b;return(b=(c=e.apps)==null?void 0:c.find(S=>(S==null?void 0:S.keyword)===e.currentAppKey))==null?void 0:b.title}),l=()=>t("div",{class:"navbar-dropdown"},[e.device!=="mobile"&&t(j,{class:"top-menu"},null),t("div",{class:{"dropdown-ml-10":e.device==="mobile","navbar-dropdown-item":!0}},[t(V,{onSelect:r},{default:()=>t(ae,null,{default:()=>[t(Ae,{class:"top-navbar-dropdown-text"},{default:()=>[m.value]}),t(Pe,null,null)]}),content:()=>e.apps.map(c=>t(q,{value:c,key:c==null?void 0:c.keyword},{default:()=>[P(W(`<icon-${c.icon}/>`)),se(" "),c==null?void 0:c.title]}))})])]);return()=>e.layout==="topMenu"?l():h()}});const xt=n=>(J("data-v-76766ea1"),n=n(),G(),n),kt={class:"navbar"},St=["src"],Ct={key:0,class:"center-side"},Tt={class:"right-side"},$t=["src"],It=["src"],Dt=xt(()=>g("span",null,"\u9000\u51FA\u767B\u5F55",-1)),Mt=M({__name:"index",setup(n){const a=B(!1),e=I(),s=Y(),{logout:r}=we(),{isFullscreen:d,toggle:h}=rt(),m=v(()=>s.avatar),l=v(()=>e.apps.length>1&&e.layout!=="twoColumns"),c=v(()=>e.theme),b=()=>e.device==="mobile"?`calc( ${e.menuWidth}px - 100px)`:`calc( ${e.menuWidth}px - 80px)`,S=lt({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(u){e.toggleTheme(u)}}),C=it(S),$=()=>{C()},i=()=>{r()};return(u,f)=>{const o=We,w=Ke,x=ke,D=Se,k=ae,A=je,U=Ce,H=He,O=Ue,he=xe,ve=q,me=V,be=ce("Userinfo");return y(),L(re,null,[g("div",kt,[g("div",{class:"left-side",style:z({width:p(e).menuWidth+"px"})},[t(w,null,{default:_(()=>[g("img",{alt:"logo",src:u.$logo,style:{width:"50px",height:"50px"}},null,8,St),t(o,{style:z({margin:0,fontSize:"18px",width:"100%",minWidth:b()}),heading:5,ellipsis:!0},{default:_(()=>[se(ue(p(e).currentAppinfo.title),1)]),_:1},8,["style"])]),_:1})],4),p(l)?(y(),L("div",Ct,[t(fe)])):E("",!0),g("ul",Tt,[g("li",null,[t(A,{content:p(c)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u4EAE\u8272\u6A21\u5F0F"},{default:_(()=>[t(k,{class:"nav-btn",type:"outline",shape:"circle",onClick:$},{icon:_(()=>[p(c)==="dark"?(y(),T(x,{key:0})):(y(),T(D,{key:1}))]),_:1})]),_:1},8,["content"])]),g("li",null,[t(A,{content:p(d)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:_(()=>[t(k,{class:"nav-btn",type:"outline",shape:"circle",onClick:p(h)},{icon:_(()=>[p(d)?(y(),T(U,{key:0})):(y(),T(H,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),g("li",null,[t(me,{trigger:"click"},{content:_(()=>[t(ve,null,{default:_(()=>[t(w,{onClick:i},{default:_(()=>[t(he),Dt]),_:1})]),_:1})]),default:_(()=>[t(O,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:_(()=>[p(m)?(y(),L("img",{key:0,alt:"avatar",src:p(m)},null,8,$t)):(y(),L("img",{key:1,alt:"avatar",src:u.$logo},null,8,It))]),_:1})]),_:1})])])]),t(be,{show:p(a),onCancel:f[0]||(f[0]=sn=>a.value=!1)},null,8,["show"])],64)}}});const Lt=R(Mt,[["__scopeId","data-v-76766ea1"]]);const F=n=>(J("data-v-db7397cc"),n=n(),G(),n),Et={class:"tag-link"},Bt=F(()=>g("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),Rt=F(()=>g("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),Ft=F(()=>g("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),zt=F(()=>g("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),At=F(()=>g("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),Pt=F(()=>g("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),Wt=M({__name:"tab-item",props:{itemData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(n){const a=n,e=de(),s=pe(),r=K(),d=I(),h=u=>{e.push({...u})},m=v(()=>r.getTabList),l=v(()=>a.itemData.fullPath!==s.fullPath),c=v(()=>a.index===0),b=v(()=>[0,1].includes(a.index)),S=v(()=>a.index===m.value.length-1),C=(u,f)=>{if(r.deleteTag(f,u),a.itemData.fullPath===s.fullPath){const o=m.value[f-1];e.push({name:o.name})}},$=()=>m.value.findIndex(u=>u.fullPath===s.fullPath),i=async u=>{const{itemData:f,index:o}=a,w=[...m.value];if(u==="current")C(f,o);else if(u==="left"){const x=$();w.splice(1,a.index-1),r.freshTabList(w),x<o&&e.push({name:f.name})}else if(u==="right"){const x=$();w.splice(a.index+1),r.freshTabList(w),x>o&&e.push({name:f.name})}else if(u==="others"){const x=m.value.filter((D,k)=>k===0||k===a.index);r.freshTabList(x),e.push({name:f.name})}else u==="reload"?(r.deleteCache(f),await e.push({name:Te,params:{path:s.fullPath}}),r.addCache(f.name)):(r.resetTab(),e.push({path:d.appHomePath}))};return(u,f)=>{const o=Ne,w=$e,x=q,D=Ie,k=De,A=Me,U=Le,H=V;return y(),T(H,{trigger:"contextMenu","popup-max-height":!1,onSelect:i},{content:_(()=>[t(x,{disabled:l.value,value:"reload"},{default:_(()=>[t(w),Bt]),_:1},8,["disabled","value"]),t(x,{class:"sperate-line",disabled:c.value,value:"current"},{default:_(()=>[t(o),Rt]),_:1},8,["disabled","value"]),t(x,{disabled:b.value,value:"left"},{default:_(()=>[t(D),Ft]),_:1},8,["disabled","value"]),t(x,{class:"sperate-line",disabled:S.value,value:"right"},{default:_(()=>[t(k),zt]),_:1},8,["disabled","value"]),t(x,{value:"others"},{default:_(()=>[t(A),At]),_:1},8,["value"]),t(x,{value:"all"},{default:_(()=>[t(U),Pt]),_:1},8,["value"])]),default:_(()=>[g("span",{class:le(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":n.itemData.fullPath===u.$route.fullPath}]),onClick:f[1]||(f[1]=O=>h(n.itemData))},[g("span",Et,ue(n.itemData.title),1),g("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:f[0]||(f[0]=Oe(O=>C(n.itemData,n.index),["stop"]))},[t(o)])],2)]),_:1})}}});const Kt=R(Wt,[["__scopeId","data-v-db7397cc"]]),jt=n=>(J("data-v-8785760b"),n=n(),G(),n),Ut={class:"tab-bar-container"},Ht={class:"tab-bar-box"},Ot={class:"tab-bar-scroll"},Nt={class:"tags-wrap"},Vt=jt(()=>g("div",{class:"tag-bar-operation"},null,-1)),qt=M({__name:"index",setup(n){const a=I(),e=K(),s=B(),r=v(()=>e.getTabList),d=v(()=>a.navbar?60:0);return Ve(()=>a.navbar,()=>{s.value.updatePosition()}),X(h=>{!h.meta.noAffix&&!r.value.some(m=>m.fullPath===h.fullPath)&&e.updateTabList(h)},!0),qe(()=>{Ee()}),(h,m)=>{const l=Ge;return y(),L("div",Ut,[t(l,{ref_key:"affixRef",ref:s,"offset-top":d.value},{default:_(()=>[g("div",Ht,[g("div",Ot,[g("div",Nt,[(y(!0),L(re,null,Je(r.value,(c,b)=>(y(),T(Kt,{key:c.fullPath,index:b,"item-data":c},null,8,["index","item-data"]))),128))])]),Vt])]),_:1},8,["offset-top"])])}}});const Jt=R(qt,[["__scopeId","data-v-8785760b"]]),Gt=M({__name:"content",setup(n){const a=I(),e=K(),s=v(()=>e.getCacheList);return(r,d)=>{const h=ce("router-view");return y(),T(h,null,{default:_(({Component:m,route:l})=>[t(Xe,{name:p(a).animation,mode:"out-in",appear:""},{default:_(()=>[l.meta.ignoreCache?(y(),T(N(m),{key:l.fullPath})):(y(),T(Qe,{key:1,include:s.value},[(y(),T(N(m),{key:l.fullPath}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})}}}),Qt={class:"menu-wrapper"},Xt=M({__name:"default-layout",setup(n){const a=B(!1),e=B(!1),s=I(),r=v(()=>s.navbar),d=v(()=>s.menu),h=v(()=>s.hideMenu),m=v(()=>s.menuCollapse?48:s.menuWidth),l=v(()=>s.menuCollapse),c=b=>{!e.value||s.updateSettings({menuCollapse:b})};return ie("toggleDrawerMenu",()=>{a.value=!a.value}),Z(()=>{e.value=!0}),(b,S)=>{const C=et;return p(d)?Ye((y(),T(C,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:p(l),collapsible:!0,width:p(m),style:z({paddingTop:p(r)?"60px":""}),"hide-trigger":!0,onCollapse:c},{default:_(()=>[g("div",Qt,[t(j)])]),_:1},8,["collapsed","width","style"])),[[Ze,!p(h)]]):E("",!0)}}});const Yt=R(Xt,[["__scopeId","data-v-2486516c"]]),Zt={class:"parent-memu"},en=M({__name:"two-columns-layout",setup(n){const{menuTree:a}=_e(),e=I(),s=v(()=>{var d;let r=((d=a.value)==null?void 0:d.length)<1?100:e.menuWidth;return e.menuCollapse&&(r=148),`${r}px`});return(r,d)=>p(e).device!=="mobile"?(y(),L("div",{key:0,style:z({paddingTop:p(e).navbar?"60px":"",width:p(s)}),class:"layout-sider"},[g("div",Zt,[t(fe,{class:"menu-item-vertical"})]),t(j,{class:"layout-menu"})],4)):E("",!0)}});const tn=R(en,[["__scopeId","data-v-96067723"]]),nn={key:0,class:"layout-navbar"},on="60px",an=M({__name:"base-layout",setup(n){const a=tt(),e=I(),s=Y(),r=v(()=>e.watermark?`${e.watermark}-${s.name}`:""),d=B(!1),h=v(()=>e.navbar),m=v(()=>e.hideMenu),l=v(()=>e.footer),c=v(()=>({...h.value?{paddingTop:on}:{}}));vt(!0);const b=()=>{d.value=!1};return nt(()=>{switch(e.layout){case"twoColumns":a.value=tn;break;case"topMenu":a.value=void 0;break;default:a.value=Yt;break}}),ie("toggleDrawerMenu",()=>{d.value=!d.value}),(S,C)=>{const $=ot,i=at,u=st,f=ct;return y(),T(u,{class:le(["layout",{mobile:p(e).hideMenu}])},{default:_(()=>[p(h)?(y(),L("div",nn,[t(Lt)])):E("",!0),t(f,{content:p(r),"z-index":99999999,font:{fontSize:14}},{default:_(()=>[t(u,null,{default:_(()=>[t(u,{style:{"flex-direction":"row"}},{default:_(()=>[(y(),T(N(p(a)),{key:p(e).layout})),p(m)?(y(),T($,{key:0,visible:p(d),placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:b},{default:_(()=>[t(j)]),_:1},8,["visible"])):E("",!0),t(u,{class:"layout-content",style:z(p(c))},{default:_(()=>[p(e).tabBar?(y(),T(Jt,{key:0})):E("",!0),t(i,null,{default:_(()=>[t(Gt)]),_:1}),p(l)?(y(),T(Be,{key:1})):E("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["content"])]),_:1},8,["class"])}}});const bn=R(an,[["__scopeId","data-v-6b16fbe6"]]);export{bn as default};
