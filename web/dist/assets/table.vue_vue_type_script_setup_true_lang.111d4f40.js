import{z as V}from"./index.dcee45e5.js";/* empty css               *//* empty css              */import{d as T,e as f,bf as N,bV as U,ae as I,ad as M,b0 as O,bk as R,bS as j,b$ as q,B as G,aK as t,aJ as a,aX as H,b_ as J,A as i,bE as m,aC as r,aM as n,aN as h,aD as K,aG as v,aH as X}from"./arco.5cfe922d.js";import{D as L,U as Q}from"./api.64a2d5f2.js";const oe=T({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{},pagination:{},total:{}},emits:["update","refresh","pageChange"],setup(W,{emit:C}){const g=f(),c=C,s=f({page:1,pageSize:10}),k=e=>{s.value.page=e,c("pageChange",s.value)},b=e=>{s.value.pageSize=e,c("pageChange",s.value)},z=async e=>{await L({id:e}),v.success("\u5220\u9664\u6210\u529F"),c("refresh")},S=e=>{const l=e.status?"\u542F\u7528":"\u7981\u7528";X.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${l}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await Q({id:e.id,status:e.status}),v.success(`${l}\u6210\u529F`)},onCancel:()=>{e.status=!e.status}})},w=e=>{g.value.show("cfg_server",e)};return(e,l)=>{const A=N,D=V,p=U,$=I,y=M,B=O,_=R,F=j,E=q,P=H("ResourcePermission"),d=J("permission");return i(),G("div",null,[t(_,{direction:"vertical",fill:""},{default:a(()=>[m((i(),r(F,{"row-key":"id",loading:e.loading,columns:e.columns,pagination:!1,data:e.data,bordered:!1,size:e.size},{status:a(({record:o})=>[t(A,{modelValue:o.status,"onUpdate:modelValue":u=>o.status=u,disabled:!e.$hasPermission("configure:server:update:status"),type:"round",onChange:u=>S(o)},{checked:a(()=>[n("\u542F\u7528")]),unchecked:a(()=>[n("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:a(({record:o})=>[n(h(e.$formatTime(o.createdAt)),1)]),updatedAt:a(({record:o})=>[n(h(e.$formatTime(o.updatedAt)),1)]),operations:a(({record:o})=>[t(_,{class:"cursor-pointer"},{default:a(()=>[m((i(),r(p,{color:"purple",onClick:u=>w(o.id)},{icon:a(()=>[t(D)]),default:a(()=>[n(" \u8D44\u6E90\u6743\u9650 ")]),_:2},1032,["onClick"])),[[d,"configure:server:resource:permission"]]),m((i(),r(p,{color:"orangered",onClick:u=>c("update",o)},{icon:a(()=>[t($)]),default:a(()=>[n(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[d,"configure:server:update"]]),e.$hasPermission("configure:server:delete")?(i(),r(B,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u670D\u52A1",type:"warning",onOk:u=>z(o.id)},{default:a(()=>[t(p,{color:"red"},{icon:a(()=>[t(y)]),default:a(()=>[n(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):K("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[d,"configure:server:query"]]),t(E,{total:e.total,current:s.value.page,"page-size":s.value.pageSize,"show-total":"","show-jumper":"","show-page-size":"",onChange:k,onPageSizeChange:b},null,8,["total","current","page-size"])]),_:1}),t(P,{ref_key:"rp",ref:g},null,512)])}}});export{oe as _};
