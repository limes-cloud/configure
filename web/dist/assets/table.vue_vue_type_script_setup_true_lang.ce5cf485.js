import"./index.ddbbfbf8.js";/* empty css               *//* empty css              *//* empty css               */import{d as D,e as w,ae as S,bV as A,ad as E,b0 as $,by as B,bS as T,b$ as N,aC as r,aJ as a,b_ as P,A as u,bE as l,aM as n,aN as d,u as V,aK as s,aD as F,aG as q}from"./arco.b1c3a1f5.js";import{D as I}from"./api.9b8fb919.js";import{v as M}from"./type.a4a3f801.js";const U=D({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{},pagination:{},total:{}},emits:["refresh","update","add","set","pageChange"],setup(O,{emit:f}){const i=f,t=w({page:1,pageSize:10}),b=e=>{t.value.page=e,i("pageChange",t.value)},h=e=>{t.value.pageSize=e,i("pageChange",t.value)},v=async e=>{await I({ids:[e]}),q.success("\u5220\u9664\u6210\u529F"),i("refresh")};return(e,j)=>{const g=S,c=A,C=E,y=$,m=B,z=T,k=N,p=P("permission");return u(),r(m,{direction:"vertical",fill:""},{default:a(()=>[l((u(),r(z,{"row-key":"id",loading:e.loading,columns:e.columns,pagination:!1,data:e.data,bordered:!1,size:e.size},{type:a(({record:o})=>[n(d(V(M)[o.type]),1)]),createdAt:a(({record:o})=>[n(d(e.$formatTime(o.createdAt)),1)]),updatedAt:a(({record:o})=>[n(d(e.$formatTime(o.updatedAt)),1)]),operations:a(({record:o})=>[s(m,{class:"cursor-pointer"},{default:a(()=>[l((u(),r(c,{color:"arcoblue",onClick:_=>i("set",o)},{icon:a(()=>[s(g)]),default:a(()=>[n(" \u914D\u7F6E ")]),_:2},1032,["onClick"])),[[p,"configure:business:value:query"]]),l((u(),r(c,{color:"orangered",onClick:_=>i("update",o)},{icon:a(()=>[s(g)]),default:a(()=>[n(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[p,"configure:business:update"]]),e.$hasPermission("configure:business:delete")?(u(),r(y,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u8D44\u6E90",type:"warning",onOk:_=>v(o.id)},{default:a(()=>[s(c,{color:"red"},{icon:a(()=>[s(C)]),default:a(()=>[n(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):F("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[p,"configure:business:query"]]),s(k,{total:e.total,current:t.value.page,"page-size":t.value.pageSize,"show-total":"","show-jumper":"","show-page-size":"",onChange:b,onPageSizeChange:h},null,8,["total","current","page-size"])]),_:1})}}});export{U as _};
