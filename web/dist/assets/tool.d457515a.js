import{i as U,t as Z,v as H,w as J,_ as K}from"./index.dcee45e5.js";/* empty css               *//* empty css               */import{d as M,e as x,a4 as O,bh as Y,a$ as j,bv as q,b5 as G,bZ as Q,aC as f,aJ as t,aZ as W,b_ as X,A as u,aK as n,bE as ee,aM as oe,E as r,B as h,aL as b,C as te,aN as k,aO as w,n as ne,aY as se,bx as ae}from"./arco.5cfe922d.js";import{l as g}from"./lodash.8451dd2a.js";import{S as ce}from"./sortable.esm.41bdaeb5.js";import"./chart.903d1bcc.js";import"./vue.f8d3c6d1.js";const le={class:"action-icon"},ie={class:"action-icon"},re={id:"tableSetting"},ue={style:{"margin-right":"4px",cursor:"move"}},_e={class:"title"},pe=M({__name:"tool",props:{columns:{},size:{}},emits:["update:size","update:columns","add","refresh"],setup(B,{emit:D}){const y=B,_=D,l=x([]),d=x([]),E=o=>{_("update:size",o)};(o=>{l.value=g.exports.cloneDeep(o),l.value.forEach((e,c)=>{e.checked=!0}),d.value=g.exports.cloneDeep(l.value)})(y.columns);const C=(o,e,c,i=!1)=>{const s=i?g.exports.cloneDeep(o):o;return e>-1&&c>-1&&s.splice(e,1,s.splice(c,1,s[e]).pop()),s},V=o=>{o&&ne(()=>{const e=document.getElementById("tableSetting");new ce(e,{onEnd(c){const{oldIndex:i,newIndex:s}=c;C(l.value,i,s),C(d.value,i,s),_("update:columns",l.value)}})})},z=(o,e,c)=>{o?l.value.splice(c,0,e):l.value=d.value.filter(i=>i.checked),_("update:columns",l.value)};return(o,e)=>{const c=O,i=Y,s=se,S=U,m=j,I=Z,A=ae,F=q,L=H,N=J,T=G,$=Q,P=W,R=X("permission");return u(),f(P,{style:{"align-items":"center","margin-bottom":"16px"}},{default:t(()=>[n(s,{span:12},{default:t(()=>[ee((u(),f(i,{type:"primary",onClick:e[0]||(e[0]=a=>_("add"))},{icon:t(()=>[n(c)]),default:t(()=>[oe(" \u65B0\u5EFA\u670D\u52A1 ")]),_:1})),[[R,"configure:server:add"]])]),_:1}),n(s,{span:12,class:"tool"},{default:t(()=>[n(m,{content:"\u5237\u65B0"},{default:t(()=>[r("div",{class:"action-icon",onClick:e[1]||(e[1]=a=>_("refresh"))},[n(S,{size:"18"})])]),_:1}),n(F,{onSelect:E},{content:t(()=>[(u(!0),h(w,null,b(o.$densityList,(a,p)=>(u(),f(A,{key:p,value:p,class:te({active:p===o.size})},{default:t(()=>[r("span",null,k(a),1)]),_:2},1032,["value","class"]))),128))]),default:t(()=>[n(m,{content:"\u5B57\u4F53\u5927\u5C0F"},{default:t(()=>[r("div",le,[n(I,{size:"18"})])]),_:1})]),_:1}),n(m,{content:"\u884C\u8BBE\u7F6E"},{default:t(()=>[n($,{trigger:"click",position:"bl",onPopupVisibleChange:V},{content:t(()=>[r("div",re,[(u(!0),h(w,null,b(d.value,(a,p)=>(u(),h("div",{key:a.dataIndex,class:"setting"},[r("div",ue,[n(N)]),r("div",null,[n(T,{modelValue:a.checked,"onUpdate:modelValue":v=>a.checked=v,onChange:v=>z(v,a,p)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),r("div",_e,k(a.title==="#"?"index":a.title),1)]))),128))])]),default:t(()=>[r("div",ie,[n(L,{size:"18"})])]),_:1})]),_:1})]),_:1})]),_:1})}}});const ke=K(pe,[["__scopeId","data-v-cc3f7ea9"]]);export{ke as default};
