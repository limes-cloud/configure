import"./index.dcee45e5.js";/* empty css              */import{d as g,e as s,w as B,b1 as C,b2 as V,b9 as h,bH as U,aC as k,aJ as r,aG as f,A as x,aK as l,ba as y}from"./arco.5cfe922d.js";import{C as E,U as q}from"./api.64a2d5f2.js";const K=g({__name:"form",props:{data:{}},emits:["refresh"],setup(F,{expose:c,emit:v}){const i=s(),t=s(!1),o=s(!1),m=F,a=s({...m.data}),w=v;B(()=>m.data,n=>{a.value=n}),c({showAddDrawer:()=>{t.value=!0,o.value=!0},showUpdateDrawer:()=>{t.value=!0,o.value=!1},closeDrawer:()=>{t.value=!1}});const D=async()=>{if(await i.value.validate())return!1;const e=a.value;return o.value?(await E(e),f.success("\u521B\u5EFA\u6210\u529F")):(await q(e),f.success("\u66F4\u65B0\u6210\u529F")),w("refresh"),!0};return(n,e)=>{const p=C,d=y,_=V,b=h,A=U;return x(),k(A,{visible:t.value,"onUpdate:visible":e[3]||(e[3]=u=>t.value=u),title:o.value?"\u65B0\u5EFA":"\u4FEE\u6539",width:"380px",onCancel:e[4]||(e[4]=u=>t.value=!1),onBeforeOk:D},{default:r(()=>[l(b,{ref_key:"formRef",ref:i,model:a.value,"label-align":"left",layout:"horizontal","auto-label-width":""},{default:r(()=>[l(d,{field:"name",label:"\u670D\u52A1\u540D\u79F0",rules:[{required:!0,message:"\u670D\u52A1\u540D\u79F0\u662F\u5FC5\u586B\u9879"}],"validate-trigger":["change","input"]},{default:r(()=>[l(p,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=u=>a.value.name=u),placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u540D\u79F0","allow-clear":""},null,8,["modelValue"])]),_:1}),l(d,{field:"keyword",label:"\u670D\u52A1\u6807\u5FD7",rules:[{required:!0,message:"\u670D\u52A1\u6807\u5FD7\u662F\u5FC5\u586B\u9879"}],"validate-trigger":["change","input"]},{default:r(()=>[l(p,{modelValue:a.value.keyword,"onUpdate:modelValue":e[1]||(e[1]=u=>a.value.keyword=u),placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u6807\u5FD7","allow-clear":""},null,8,["modelValue"])]),_:1}),l(d,{field:"description",label:"\u670D\u52A1\u63CF\u8FF0",rules:[{required:!0,message:"\u670D\u52A1\u63CF\u8FF0\u662F\u5FC5\u586B\u9879"}],"validate-trigger":["change","input"]},{default:r(()=>[l(_,{modelValue:a.value.description,"onUpdate:modelValue":e[2]||(e[2]=u=>a.value.description=u),placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u63CF\u8FF0","allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}});export{K as _};
