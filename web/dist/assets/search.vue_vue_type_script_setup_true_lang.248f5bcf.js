import{f as x}from"./index.f90c2f0c.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               */import{d as B,e as f,o as D,by as F,bk as S,bm as I,aa as E,aV as A,aU as U,bc as z,aC as N,aI as o,br as R,A as $,aJ as e,aL as v,bn as q,bs as J,bt as L}from"./arco.9b5dfa89.js";import{p as M}from"./server.7e32a174.js";const Z=B({__name:"search",emits:["search","select"],setup(T,{emit:_}){const t=f({}),u=f([]),h=()=>{_("search",t.value)},b=()=>{t.value.keyword=void 0},i=async r=>{const{data:n}=await M({page:1,page_size:10,keyword:r}),{list:c}=n;if(!c)return;const l=[];c.forEach(a=>{t.value.server_id!==a.id&&(a.name=`${a.name}(${a.keyword})`,l.push(a))});const s=[];u.value.forEach(a=>{a.id===t.value.server_id&&s.push(a)}),u.value=l.concat(s)},w=r=>{_("select",r)};return D(()=>{i()}),(r,n)=>{const c=F,l=q,s=J,a=S,d=R,C=I,y=E,m=A,k=x,g=U,V=L("permission");return z(($(),N(d,null,{default:o(()=>[e(s,{flex:1},{default:o(()=>[e(C,{model:t.value,"label-col-props":{span:6},"wrapper-col-props":{span:18},"label-align":"left","auto-label-width":""},{default:o(()=>[e(d,{gutter:16},{default:o(()=>[e(s,{span:8},{default:o(()=>[e(l,{field:"keyword",label:"\u670D\u52A1\u6807\u8BC6"},{default:o(()=>[e(c,{modelValue:t.value.server_id,"onUpdate:modelValue":n[0]||(n[0]=p=>t.value.server_id=p),placeholder:"\u8BF7\u9009\u62E9\u670D\u52A1",scrollbar:!0,options:u.value,"field-names":{value:"id",label:"name"},onSearch:i,onChange:w},null,8,["modelValue","options"])]),_:1})]),_:1}),e(s,{span:8},{default:o(()=>[e(l,{field:"keyword",label:"\u53D8\u91CF\u6807\u8BC6"},{default:o(()=>[e(a,{modelValue:t.value.keyword,"onUpdate:modelValue":n[1]||(n[1]=p=>t.value.keyword=p),"allow-clear":"",placeholder:"\u8BF7\u8F93\u5165\u53D8\u91CF\u6807\u8BC6"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(s,{flex:"86px",style:{"text-align":"right"}},{default:o(()=>[e(g,{size:18},{default:o(()=>[e(m,{type:"primary",onClick:h},{icon:o(()=>[e(y)]),default:o(()=>[v(" \u641C\u7D22 ")]),_:1}),e(m,{onClick:b},{icon:o(()=>[e(k)]),default:o(()=>[v(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1})]),_:1})),[[V,"configure:business:query"]])}}});export{Z as _};
