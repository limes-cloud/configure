import{i as U,t as Z,v as H,w as J,_ as K}from"./index.dcee45e5.js";/* empty css               *//* empty css               */import{d as M,e as b,a4 as O,bh as Y,a$ as j,bv as q,b5 as G,bZ as Q,aC as h,aJ as n,aZ as W,b_ as X,A as u,aK as t,bE as ee,aM as oe,E as r,B as f,aL as x,C as ne,aN as B,aO as k,n as te,aY as se,bx as ae}from"./arco.5cfe922d.js";import{l as g}from"./lodash.8451dd2a.js";import{S as ce}from"./sortable.esm.41bdaeb5.js";import"./chart.903d1bcc.js";import"./vue.f8d3c6d1.js";const le={class:"action-icon"},ie={class:"action-icon"},re={id:"tableSetting"},ue={style:{"margin-right":"4px",cursor:"move"}},pe={class:"title"},de=M({__name:"tool",props:{columns:{},size:{},enableCreate:{type:Boolean}},emits:["update:size","update:columns","add","refresh"],setup(w,{emit:y}){const D=w,p=y,l=b([]),_=b([]),E=e=>{p("update:size",e)};(e=>{l.value=g.exports.cloneDeep(e),l.value.forEach((o,c)=>{o.checked=!0}),_.value=g.exports.cloneDeep(l.value)})(D.columns);const C=(e,o,c,i=!1)=>{const s=i?g.exports.cloneDeep(e):e;return o>-1&&c>-1&&s.splice(o,1,s.splice(c,1,s[o]).pop()),s},V=e=>{e&&te(()=>{const o=document.getElementById("tableSetting");new ce(o,{onEnd(c){const{oldIndex:i,newIndex:s}=c;C(l.value,i,s),C(_.value,i,s),p("update:columns",l.value)}})})},z=(e,o,c)=>{e?l.value.splice(c,0,o):l.value=_.value.filter(i=>i.checked),p("update:columns",l.value)};return(e,o)=>{const c=O,i=Y,s=se,S=U,m=j,I=Z,F=ae,A=q,L=H,N=J,T=G,$=Q,P=W,R=X("permission");return u(),h(P,{style:{"align-items":"center","margin-bottom":"16px"}},{default:n(()=>[t(s,{span:12},{default:n(()=>[ee((u(),h(i,{disabled:!e.enableCreate,type:"primary",onClick:o[0]||(o[0]=a=>p("add"))},{icon:n(()=>[t(c)]),default:n(()=>[oe(" \u65B0\u5EFA\u53D8\u91CF ")]),_:1},8,["disabled"])),[[R,"configure:business:add"]])]),_:1}),t(s,{span:12,class:"tool"},{default:n(()=>[t(m,{content:"\u5237\u65B0"},{default:n(()=>[r("div",{class:"action-icon",onClick:o[1]||(o[1]=a=>p("refresh"))},[t(S,{size:"18"})])]),_:1}),t(A,{onSelect:E},{content:n(()=>[(u(!0),f(k,null,x(e.$densityList,(a,d)=>(u(),h(F,{key:d,value:d,class:ne({active:d===e.size})},{default:n(()=>[r("span",null,B(a),1)]),_:2},1032,["value","class"]))),128))]),default:n(()=>[t(m,{content:"\u5B57\u4F53\u5927\u5C0F"},{default:n(()=>[r("div",le,[t(I,{size:"18"})])]),_:1})]),_:1}),t(m,{content:"\u884C\u8BBE\u7F6E"},{default:n(()=>[t($,{trigger:"click",position:"bl",onPopupVisibleChange:V},{content:n(()=>[r("div",re,[(u(!0),f(k,null,x(_.value,(a,d)=>(u(),f("div",{key:a.dataIndex,class:"setting"},[r("div",ue,[t(N)]),r("div",null,[t(T,{modelValue:a.checked,"onUpdate:modelValue":v=>a.checked=v,onChange:v=>z(v,a,d)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),r("div",pe,B(a.title==="#"?"index":a.title),1)]))),128))])]),default:n(()=>[r("div",ie,[t(L,{size:"18"})])]),_:1})]),_:1})]),_:1})]),_:1})}}});const Be=K(de,[["__scopeId","data-v-26e35cc2"]]);export{Be as default};
