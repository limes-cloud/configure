import{y as z,i as I,z as G}from"./index.dcee45e5.js";/* empty css               *//* empty css              *//* empty css               */import{d as M,e as N,bf as U,ae as O,bV as q,bv as H,ad as J,b0 as K,bk as X,bS as j,B as L,bE as d,aC as l,aJ as e,aK as o,aX as Q,b_ as W,A as c,aM as a,aN as v,aD as Y,aH as _,aG as g,bx as Z}from"./arco.5cfe922d.js";import{U as x,D as ee,G as ne,R as oe}from"./api.4f3f3ec2.js";const re=M({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{}},emits:["refresh","update","pageChange"],setup(te,{emit:h}){const m=N(),f=h,C=n=>{const s=n.status?"\u542F\u7528":"\u7981\u7528";_.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${s}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await x({id:n.id,status:n.status}),g.success(`${s}\u6210\u529F`)},onCancel:()=>{n.status=!n.status}})},F=async n=>{await ee({id:n}),g.success("\u5220\u9664\u6210\u529F"),f("refresh")},A=async n=>{const{data:s}=await ne(n);_.success({title:"\u83B7\u53D6Toekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${s.token}`})},D=async n=>{const{data:s}=await oe(n);_.success({title:"\u91CD\u7F6EToekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${s.token}`})},b=n=>{m.value.show("cfg_env",n)};return(n,s)=>{const E=U,k=O,i=q,y=z,p=Z,B=I,$=G,w=H,T=J,V=K,R=X,P=j,S=Q("ResourcePermission"),r=W("permission");return c(),L("div",null,[d((c(),l(P,{"row-key":"id",loading:n.loading,columns:n.columns,pagination:!1,data:n.data,bordered:!1,size:n.size},{status:e(({record:t})=>[o(E,{modelValue:t.status,"onUpdate:modelValue":u=>t.status=u,disabled:!n.$hasPermission("configure:env:update:status"),type:"round",onChange:u=>C(t)},{checked:e(()=>[a("\u542F\u7528")]),unchecked:e(()=>[a("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:e(({record:t})=>[a(v(n.$formatTime(t.createdAt)),1)]),updatedAt:e(({record:t})=>[a(v(n.$formatTime(t.updatedAt)),1)]),operations:e(({record:t})=>[o(R,{class:"cursor-pointer"},{default:e(()=>[o(w,{trigger:"hover"},{content:e(()=>[o(p,null,{default:e(()=>[d((c(),l(i,{color:"arcoblue",onClick:u=>A(t.id)},{icon:e(()=>[o(y)]),default:e(()=>[a(" \u83B7\u53D6\u5BC6\u94A5 ")]),_:2},1032,["onClick"])),[[r,"configure:env:token:query"]])]),_:2},1024),o(p,null,{default:e(()=>[d((c(),l(i,{color:"orangered",onClick:u=>D(t.id)},{icon:e(()=>[o(B)]),default:e(()=>[a(" \u91CD\u7F6E\u5BC6\u94A5 ")]),_:2},1032,["onClick"])),[[r,"configure:env:token:reset"]])]),_:2},1024),o(p,null,{default:e(()=>[d((c(),l(i,{color:"purple",onClick:u=>b(t.id)},{icon:e(()=>[o($)]),default:e(()=>[a(" \u8D44\u6E90\u6743\u9650 ")]),_:2},1032,["onClick"])),[[r,"configure:env:resource:permission"]])]),_:2},1024)]),default:e(()=>[o(i,{color:"arcoblue"},{icon:e(()=>[o(k)]),default:e(()=>[a(" \u66F4\u591A ")]),_:1})]),_:2},1024),d((c(),l(i,{color:"orangered",onClick:u=>f("update",t)},{icon:e(()=>[o(k)]),default:e(()=>[a(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[r,"configure:env:update"]]),n.$hasPermission("configure:env:delete")?(c(),l(V,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u73AF\u5883",type:"warning",onOk:u=>F(t.id)},{default:e(()=>[o(i,{color:"red"},{icon:e(()=>[o(T)]),default:e(()=>[a(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):Y("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[r,"configure:env:query"]]),o(S,{ref_key:"rp",ref:m},null,512)])}}});export{re as _};
