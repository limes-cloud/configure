import{y as V,i as S}from"./index.23df448f.js";/* empty css               *//* empty css              *//* empty css               */import{d as z,e as G,bf as I,ae as M,bV as N,bv as R,ad as U,b0 as O,bk as P,bS as q,B as H,bE as r,aC as l,aJ as e,b_ as J,A as c,aK as o,aM as a,aN as k,aD as K,aH as p,aG as g,bx as j}from"./arco.5cfe922d.js";import{U as L,D as Q,G as W,R as X}from"./api.70923853.js";const ae=z({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{}},emits:["refresh","update","pageChange"],setup(Y,{emit:v}){G();const _=v,h=t=>{const s=t.status?"\u542F\u7528":"\u7981\u7528";p.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${s}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await L({id:t.id,status:t.status}),g.success(`${s}\u6210\u529F`)},onCancel:()=>{t.status=!t.status}})},F=async t=>{await Q({id:t}),g.success("\u5220\u9664\u6210\u529F"),_("refresh")},A=async t=>{const{data:s}=await W(t);p.success({title:"\u83B7\u53D6Toekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${s.token}`})},C=async t=>{const{data:s}=await X(t);p.success({title:"\u91CD\u7F6EToekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${s.token}`})};return(t,s)=>{const b=I,m=M,i=N,D=V,f=j,E=S,B=R,y=U,$=O,w=P,T=q,d=J("permission");return c(),H("div",null,[r((c(),l(T,{"row-key":"id",loading:t.loading,columns:t.columns,pagination:!1,data:t.data,bordered:!1,size:t.size},{status:e(({record:n})=>[o(b,{modelValue:n.status,"onUpdate:modelValue":u=>n.status=u,disabled:!t.$hasPermission("configure:env:update:status"),type:"round",onChange:u=>h(n)},{checked:e(()=>[a("\u542F\u7528")]),unchecked:e(()=>[a("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:e(({record:n})=>[a(k(t.$formatTime(n.createdAt)),1)]),updatedAt:e(({record:n})=>[a(k(t.$formatTime(n.updatedAt)),1)]),operations:e(({record:n})=>[o(w,{class:"cursor-pointer"},{default:e(()=>[o(B,{trigger:"hover"},{content:e(()=>[o(f,null,{default:e(()=>[r((c(),l(i,{color:"arcoblue",onClick:u=>A(n.id)},{icon:e(()=>[o(D)]),default:e(()=>[a(" \u83B7\u53D6\u5BC6\u94A5 ")]),_:2},1032,["onClick"])),[[d,"configure:env:token:query"]])]),_:2},1024),o(f,null,{default:e(()=>[r((c(),l(i,{color:"orangered",onClick:u=>C(n.id)},{icon:e(()=>[o(E)]),default:e(()=>[a(" \u91CD\u7F6E\u5BC6\u94A5 ")]),_:2},1032,["onClick"])),[[d,"configure:env:token:reset"]])]),_:2},1024)]),default:e(()=>[o(i,{color:"arcoblue"},{icon:e(()=>[o(m)]),default:e(()=>[a(" \u66F4\u591A ")]),_:1})]),_:2},1024),r((c(),l(i,{color:"orangered",onClick:u=>_("update",n)},{icon:e(()=>[o(m)]),default:e(()=>[a(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[d,"configure:env:update"]]),t.$hasPermission("configure:env:delete")?(c(),l($,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u73AF\u5883",type:"warning",onOk:u=>F(n.id)},{default:e(()=>[o(i,{color:"red"},{icon:e(()=>[o(y)]),default:e(()=>[a(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):K("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[d,"configure:env:query"]])])}}});export{ae as _};
